!function(e,t,n){function r(t,n){if(e.isArray(t)){for(var r=t.length-1;r>=0;r--){var i=t[r];"string"===e.type(i)&&u.transports[i]||(n.log("Invalid transport: "+i+", removing it from the transports list."),t.splice(r,1))}0===t.length&&(n.log("No transports remain within the specified transport array."),t=null)}else if(u.transports[t]||"auto"===t){if("auto"===t&&u._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+t.toString()+"."),t=null;return t}function i(e){return"http:"===e?80:"https:"===e?443:void 0}function o(e,t){return t.match(/:\d+$/)?t:t+":"+i(e)}function a(t,n){var r=this,i=[];r.tryBuffer=function(n){return t.state===e.signalR.connectionState.connecting?(i.push(n),!0):!1},r.drain=function(){if(t.state===e.signalR.connectionState.connected)for(;i.length>0;)n(i.shift())},r.clear=function(){i=[]}}var s={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof e)throw new Error(s.nojQuery);var u,c,l="complete"===t.document.readyState,f=e(t),h="__Negotiate Aborted__",d={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},p={processData:!0,timeout:null,async:!0,global:!1,cache:!1},g=function(e,n){if(n!==!1){var r;"undefined"!=typeof t.console&&(r="["+(new Date).toTimeString()+"] SignalR: "+e,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},m=function(t,n,r){return n===t.state?(t.state=r,e(t).triggerHandler(d.onStateChanged,[{oldState:n,newState:r}]),!0):!1},v=function(e){return e.state===u.connectionState.disconnected},y=function(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)},b=function(n){var r,i;n._.configuredStopReconnectingTimeout||(i=function(t){var n=u._.format(u.resources.reconnectTimeout,t.disconnectTimeout);t.log(n),e(t).triggerHandler(d.onError,[u._.error(n,"TimeoutException")]),t.stop(!1,!1)},n.reconnecting(function(){var e=this;e.state===u.connectionState.reconnecting&&(r=t.setTimeout(function(){i(e)},e.disconnectTimeout))}),n.stateChanged(function(e){e.oldState===u.connectionState.reconnecting&&t.clearTimeout(r)}),n._.configuredStopReconnectingTimeout=!0)};u=function(e,t,n){return new u.fn.init(e,t,n)},u._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var e,n;return"Microsoft Internet Explorer"===t.navigator.appName&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(e=t.parseFloat(n[1]))),e}(),error:function(e,t,n){var r=new Error(e);return r.source=t,"undefined"!=typeof n&&(r.context=n),r},transportError:function(e,t,r,i){var o=this.error(e,r,i);return o.transport=t?t.name:n,o},format:function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace("{"+t+"}",arguments[t+1]);return e},firefoxMajorVersion:function(e){var t=e.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(n){var r=n._.config,i=function(t){e(n).triggerHandler(d.onError,[t])};r&&!n._.pingIntervalId&&r.pingInterval&&(n._.pingIntervalId=t.setInterval(function(){u.transports._logic.pingServer(n).fail(i)},r.pingInterval))}},u.events=d,u.resources=s,u.ajaxDefaults=p,u.changeState=m,u.isDisconnecting=v,u.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},u.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>.")}},f.load(function(){l=!0}),u.fn=u.prototype={init:function(t,n,r){var i=e(this);this.url=t,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new a(this,function(e){i.triggerHandler(d.onReceived,[e])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof r&&(this.logging=r)},_parseResponse:function(e){var t=this;return e&&"string"==typeof e?t.json.parse(e):e},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(n,r){var i;return n=e.trim(n),r=r||t.location,0!==n.indexOf("http")?!1:(i=t.document.createElement("a"),i.href=n,i.protocol+o(i.protocol,i.host)!==r.protocol+o(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:u.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,i){var o,a=this,c={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},p=a._deferral||e.Deferred(),g=t.document.createElement("a");if(a.lastError=null,a._deferral=p,!a.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===e.type(n)?i=n:"object"===e.type(n)&&(e.extend(c,n),"function"===e.type(c.callback)&&(i=c.callback)),c.transport=r(c.transport,a),!c.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(a._.config=c,!l&&c.waitForPageLoad===!0)return a._.deferredStartHandler=function(){a.start(n,i)},f.bind("load",a._.deferredStartHandler),p.promise();if(a.state===u.connectionState.connecting)return p.promise();if(m(a,u.connectionState.disconnected,u.connectionState.connecting)===!1)return p.resolve(a),p.promise();b(a),g.href=a.url,g.protocol&&":"!==g.protocol?(a.protocol=g.protocol,a.host=g.host):(a.protocol=t.document.location.protocol,a.host=g.host||t.document.location.host),a.baseUrl=a.protocol+"//"+a.host,a.wsProtocol="https:"===a.protocol?"wss://":"ws://","auto"===c.transport&&c.jsonp===!0&&(c.transport="longPolling"),0===a.url.indexOf("//")&&(a.url=t.location.protocol+a.url,a.log("Protocol relative URL detected, normalizing it to '"+a.url+"'.")),this.isCrossDomain(a.url)&&(a.log("Auto detected cross domain url."),"auto"===c.transport&&(c.transport=["webSockets","serverSentEvents","longPolling"]),"undefined"==typeof c.withCredentials&&(c.withCredentials=!0),c.jsonp||(c.jsonp=!e.support.cors,c.jsonp&&a.log("Using jsonp because this browser doesn't support CORS.")),a.contentType=u._.defaultContentType),a.withCredentials=c.withCredentials,a.ajaxDataType=c.jsonp?"jsonp":"text",e(a).bind(d.onStart,function(t,n){"function"===e.type(i)&&i.call(a),p.resolve(a)}),a._.initHandler=u.transports._logic.initHandler(a),o=function(n,r){var i=u._.error(s.noTransportOnInit);if(r=r||0,r>=n.length)return a.log(0===r?"No transports supported by the server were selected.":1===r?"No fallback transports were selected.":"Fallback transports exhausted."),e(a).triggerHandler(d.onError,[i]),p.reject(i),void a.stop();if(a.state!==u.connectionState.disconnected){var c=n[r],l=u.transports[c],h=function(){o(n,r+1)};a.transport=l;try{a._.initHandler.start(l,function(){var n=u._.firefoxMajorVersion(t.navigator.userAgent)>=11,r=!!a.withCredentials&&n;a.log("The start request succeeded. Transitioning to the connected state."),y(a)&&u.transports._logic.monitorKeepAlive(a),u.transports._logic.startHeartbeat(a),u._.configurePingInterval(a),m(a,u.connectionState.connecting,u.connectionState.connected)||a.log("WARNING! The connection was not in the connecting state."),a._.connectingMessageBuffer.drain(),e(a).triggerHandler(d.onStart),f.bind("unload",function(){a.log("Window unloading, stopping the connection."),a.stop(r)}),n&&f.bind("beforeunload",function(){t.setTimeout(function(){a.stop(r)},0)})},h)}catch(g){a.log(l.name+" transport threw '"+g.message+"' when attempting to start."),h()}}};var v=a.url+"/negotiate",_=function(t,n){var r=u._.error(s.errorOnNegotiate,t,n._.negotiateRequest);e(n).triggerHandler(d.onError,r),p.reject(r),n.stop()};return e(a).triggerHandler(d.onStarting),v=u.transports._logic.prepareQueryString(a,v),a.log("Negotiating with '"+v+"'."),a._.negotiateRequest=u.transports._logic.ajax(a,{url:v,error:function(e,t){t!==h?_(e,a):p.reject(u._.error(s.stoppedWhileNegotiating,null,a._.negotiateRequest))},success:function(t){var n,r,i,l=[],f=[];try{n=a._parseResponse(t)}catch(h){return void _(u._.error(s.errorParsingNegotiateResponse,h),a)}return r=a._.keepAliveData,a.appRelativeUrl=n.Url,a.id=n.ConnectionId,a.token=n.ConnectionToken,a.webSocketServerUrl=n.WebSocketServerUrl,a._.pollTimeout=1e3*n.ConnectionTimeout+1e4,a.disconnectTimeout=1e3*n.DisconnectTimeout,a._.totalTransportConnectTimeout=a.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(r.activated=!0,r.timeout=1e3*n.KeepAliveTimeout,r.timeoutWarning=r.timeout*a.keepAliveWarnAt,a._.beatInterval=(r.timeout-r.timeoutWarning)/3):r.activated=!1,a.reconnectWindow=a.disconnectTimeout+(r.timeout||0),n.ProtocolVersion&&n.ProtocolVersion===a.clientProtocol?(e.each(u.transports,function(e){return 0===e.indexOf("_")||"webSockets"===e&&!n.TryWebSockets?!0:void f.push(e)}),e.isArray(c.transport)?e.each(c.transport,function(t,n){e.inArray(n,f)>=0&&l.push(n)}):"auto"===c.transport?l=f:e.inArray(c.transport,f)>=0&&l.push(c.transport),void o(l)):(i=u._.error(u._.format(s.protocolIncompatible,a.clientProtocol,n.ProtocolVersion)),e(a).triggerHandler(d.onError,[i]),void p.reject(i))}}),p.promise()},starting:function(t){var n=this;return e(n).bind(d.onStarting,function(e,r){t.call(n)}),n},send:function(e){var t=this;if(t.state===u.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===u.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,e),t},received:function(t){var n=this;return e(n).bind(d.onReceived,function(e,r){t.call(n,r)}),n},stateChanged:function(t){var n=this;return e(n).bind(d.onStateChanged,function(e,r){t.call(n,r)}),n},error:function(t){var n=this;return e(n).bind(d.onError,function(e,r,i){n.lastError=r,t.call(n,r,i)}),n},disconnected:function(t){var n=this;return e(n).bind(d.onDisconnect,function(e,r){t.call(n)}),n},connectionSlow:function(t){var n=this;return e(n).bind(d.onConnectionSlow,function(e,r){t.call(n)}),n},reconnecting:function(t){var n=this;return e(n).bind(d.onReconnecting,function(e,r){t.call(n)}),n},reconnected:function(t){var n=this;return e(n).bind(d.onReconnect,function(e,r){t.call(n)}),n},stop:function(n,r){var i=this,o=i._deferral;return i._.deferredStartHandler&&f.unbind("load",i._.deferredStartHandler),delete i._.config,delete i._.deferredStartHandler,l||i._.config&&i._.config.waitForPageLoad!==!0?i.state!==u.connectionState.disconnected?(i.log("Stopping connection."),m(i,i.state,u.connectionState.disconnected),t.clearTimeout(i._.beatHandle),t.clearInterval(i._.pingIntervalId),i.transport&&(i.transport.stop(i),r!==!1&&i.transport.abort(i,n),y(i)&&u.transports._logic.stopMonitoringKeepAlive(i),i.transport=null),i._.negotiateRequest&&(i._.negotiateRequest.abort(h),delete i._.negotiateRequest),i._.initHandler&&i._.initHandler.stop(),e(i).triggerHandler(d.onDisconnect),delete i._deferral,delete i.messageId,delete i.groupsToken,delete i.id,delete i._.pingIntervalId,delete i._.lastMessageAt,delete i._.lastActiveAt,i._.connectingMessageBuffer.clear(),i):void 0:(i.log("Stopping connection prior to negotiate."),void(o&&o.reject(u._.error(s.stoppedWhileLoading))))},log:function(e){g(e,this.logging)}},u.fn.init.prototype=u.fn,u.noConflict=function(){return e.connection===u&&(e.connection=c),u},e.connection&&(c=e.connection),e.connection=e.signalR=u}(window.jQuery,window),function(e,t,n){function r(e){e._.keepAliveData.monitoring&&i(e),s.markActive(e)&&(e._.beatHandle=t.setTimeout(function(){r(e)},e._.beatInterval))}function i(t){var n,r=t._.keepAliveData;t.state===u.connectionState.connected&&(n=(new Date).getTime()-t._.lastMessageAt,n>=r.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):n>=r.timeoutWarning?r.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),e(t).triggerHandler(c.onConnectionSlow),r.userNotified=!0):r.userNotified=!1)}function o(e,t){var n=e.url+t;return e.transport&&(n+="?transport="+e.transport.name),s.prepareQueryString(e,n)}function a(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var s,u=e.signalR,c=e.signalR.events,l=e.signalR.changeState,f="__Start Aborted__";u.transports={},a.prototype={start:function(e,r,i){var o=this,a=o.connection,s=!1;return o.startRequested||o.connectionStopped?void a.log("WARNING! "+e.name+" transport cannot be started. Initialization ongoing or completed."):(a.log(e.name+" transport starting."),o.transportTimeoutHandle=t.setTimeout(function(){s||(s=!0,a.log(e.name+" transport timed out when trying to connect."),o.transportFailed(e,n,i))},a._.totalTransportConnectTimeout),void e.start(a,function(){s||o.initReceived(e,r)},function(t){return s||(s=!0,o.transportFailed(e,t,i)),!o.startCompleted||o.connectionStopped}))},stop:function(){this.connectionStopped=!0,t.clearTimeout(this.transportTimeoutHandle),u.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,n){var r=this,i=r.connection;return r.startRequested?void i.log("WARNING! The client received multiple init messages."):void(r.connectionStopped||(r.startRequested=!0,t.clearTimeout(r.transportTimeoutHandle),i.log(e.name+" transport connected. Initiating start request."),u.transports._logic.ajaxStart(i,function(){r.startCompleted=!0,n()})))},transportFailed:function(n,r,i){var o,a=this.connection,s=a._deferral;this.connectionStopped||(t.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(o=u._.error(u.resources.errorDuringStartRequest,r),a.log(n.name+" transport failed during the start request. Stopping the connection."),e(a).triggerHandler(c.onError,[o]),s&&s.reject(o),a.stop()):(n.stop(a),a.log(n.name+" transport failed to connect. Attempting to fall back."),i()))}},s=u.transports._logic={ajax:function(t,n){return e.ajax(e.extend(!0,{},e.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},n))},pingServer:function(t){var n,r,i=e.Deferred();return t.transport?(n=t.url+"/ping",n=s.addQs(n,t.qs),r=s.ajax(t,{url:n,success:function(e){var n;try{n=t._parseResponse(e)}catch(o){return i.reject(u._.transportError(u.resources.pingServerFailedParse,t.transport,o,r)),void t.stop()}"pong"===n.Response?i.resolve():i.reject(u._.transportError(u._.format(u.resources.pingServerFailedInvalidResponse,e),t.transport,null,r))},error:function(e){401===e.status||403===e.status?(i.reject(u._.transportError(u._.format(u.resources.pingServerFailedStatusCode,e.status),t.transport,e,r)),t.stop()):i.reject(u._.transportError(u.resources.pingServerFailed,t.transport,e,r))}})):i.reject(u._.transportError(u.resources.noConnectionTransport,t.transport)),i.promise()},prepareQueryString:function(e,n){var r;return r=s.addQs(n,"clientProtocol="+e.clientProtocol),r=s.addQs(r,e.qs),e.token&&(r+="&connectionToken="+t.encodeURIComponent(e.token)),e.data&&(r+="&connectionData="+t.encodeURIComponent(e.data)),r},addQs:function(t,n){var r,i=-1!==t.indexOf("?")?"&":"?";if(!n)return t;if("object"==typeof n)return t+i+e.param(n);if("string"==typeof n)return r=n.charAt(0),("?"===r||"&"===r)&&(i=""),t+i+n;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,n,r,i,o){var a="webSockets"===n?"":e.baseUrl,u=a+e.appRelativeUrl,c="transport="+n;return!o&&e.groupsToken&&(c+="&groupsToken="+t.encodeURIComponent(e.groupsToken)),r?(u+=i?"/poll":"/reconnect",!o&&e.messageId&&(c+="&messageId="+t.encodeURIComponent(e.messageId))):u+="/connect",u+="?"+c,u=s.prepareQueryString(e,u),o||(u+="&tid="+Math.floor(11*Math.random())),u},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:"undefined"!=typeof e.S?!0:!1,ShouldReconnect:"undefined"!=typeof e.T?!0:!1,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||"undefined"==typeof t||null===t?t:e.json.stringify(t)},ajaxSend:function(t,n){var r,i=s.stringifySend(t,n),a=o(t,"/send"),l=function(t,i){e(i).triggerHandler(c.onError,[u._.transportError(u.resources.sendFailed,i.transport,t,r),n])};return r=s.ajax(t,{url:a,type:"jsonp"===t.ajaxDataType?"GET":"POST",contentType:u._.defaultContentType,data:{data:i},success:function(e){var n;if(e){try{n=t._parseResponse(e)}catch(r){return l(r,t),void t.stop()}s.triggerReceived(t,n)}},error:function(e,n){"abort"!==n&&"parsererror"!==n&&l(e,t)}})},ajaxAbort:function(e,t){if("undefined"!=typeof e.transport){t="undefined"==typeof t?!0:t;var n=o(e,"/abort");s.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,n){var r=function(e){var n=t._deferral;n&&n.reject(e)},i=function(n){t.log("The start request failed. Stopping the connection."),e(t).triggerHandler(c.onError,[n]),r(n),t.stop()};t._.startRequest=s.ajax(t,{url:o(t,"/start"),success:function(e,r,o){var a;try{a=t._parseResponse(e)}catch(s){return void i(u._.error(u._.format(u.resources.errorParsingStartResponse,e),s,o))}"started"===a.Response?n():i(u._.error(u._.format(u.resources.invalidStartResponse,e),null,o))},error:function(e,n,o){n!==f?i(u._.error(u.resources.errorDuringStartRequest,o,e)):(t.log("The start request aborted because connection.stop() was called."),r(u._.error(u.resources.stoppedDuringStartRequest,null,e)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort(f),delete e._.startRequest)},tryInitialize:function(e,t){e.Initialized&&t()},triggerReceived:function(t,n){t._.connectingMessageBuffer.tryBuffer(n)||e(t).triggerHandler(c.onReceived,[n])},processMessages:function(t,n,r){var i;s.markLastMessage(t),n&&(i=s.maximizePersistentResponse(n),s.updateGroups(t,i.GroupsToken),i.MessageId&&(t.messageId=i.MessageId),i.Messages&&(e.each(i.Messages,function(e,n){s.triggerReceived(t,n)}),s.tryInitialize(i,r)))},monitorKeepAlive:function(t){var n=t._.keepAliveData;n.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(n.monitoring=!0,s.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){s.markLastMessage(t)},e(t).bind(c.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+n.timeoutWarning+", keep alive timeout of "+n.timeout+" and disconnecting timeout of "+t.disconnectTimeout))},stopMonitoringKeepAlive:function(t){var n=t._.keepAliveData;n.monitoring&&(n.monitoring=!1,e(t).unbind(c.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),r(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return s.verifyLastActive(e)?(e._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(e){return e.state===u.connectionState.connected||e.state===u.connectionState.reconnecting},ensureReconnectingState:function(t){return l(t,u.connectionState.connected,u.connectionState.reconnecting)===!0&&e(t).triggerHandler(c.onReconnecting),t.state===u.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(t.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var n=u._.format(u.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(n),e(t).triggerHandler(c.onError,[u._.error(n,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(e,n){var r=u.transports[n];if(s.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout){if(!s.verifyLastActive(e))return;e._.reconnectTimeout=t.setTimeout(function(){s.verifyLastActive(e)&&(r.stop(e),s.ensureReconnectingState(e)&&(e.log(n+" reconnecting."),r.start(e)))},e.reconnectDelay)}},handleParseFailure:function(t,n,r,i,o){var a=u._.transportError(u._.format(u.resources.parseFailed,n),t.transport,r,o);i&&i(a)?t.log("Failed to parse server response while attempting to connect."):(e(t).triggerHandler(c.onError,[a]),t.stop())},initHandler:function(e){return new a(e)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(e,t,n){var r=e.signalR,i=e.signalR.events,o=e.signalR.changeState,a=r.transports._logic;r.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,n){var o=a.stringifySend(t,n);try{t.socket.send(o)}catch(s){e(t).triggerHandler(i.onError,[r._.transportError(r.resources.webSocketsInvalidState,t.transport,s,t.socket),n])}},start:function(n,s,u){var c,l=!1,f=this,h=!s,d=e(n);return t.WebSocket?void(n.socket||(c=n.webSocketServerUrl?n.webSocketServerUrl:n.wsProtocol+n.host,c+=a.getUrl(n,this.name,h),n.log("Connecting to websocket endpoint '"+c+"'."),n.socket=new t.WebSocket(c),n.socket.onopen=function(){l=!0,n.log("Websocket opened."),a.clearReconnectTimeout(n),o(n,r.connectionState.reconnecting,r.connectionState.connected)===!0&&d.triggerHandler(i.onReconnect)},n.socket.onclose=function(t){var o;this===n.socket&&(l&&"undefined"!=typeof t.wasClean&&t.wasClean===!1?(o=r._.transportError(r.resources.webSocketClosed,n.transport,t),n.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):n.log("Websocket closed."),u&&u(o)||(o&&e(n).triggerHandler(i.onError,[o]),f.reconnect(n)))},n.socket.onmessage=function(t){var r;try{r=n._parseResponse(t.data)}catch(i){return void a.handleParseFailure(n,t.data,i,u,t)}r&&(e.isEmptyObject(r)||r.M?a.processMessages(n,r,s):a.triggerReceived(n,r))})):void u()},reconnect:function(e){a.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){a.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){a.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){var r=e.signalR,i=e.signalR.events,o=e.signalR.changeState,a=r.transports._logic,s=function(e){t.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle};r.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(n,u,c){var l,f=this,h=!1,d=e(n),p=!u;if(n.eventSource&&(n.log("The connection already has an event source. Stopping it."),n.stop()),!t.EventSource)return void(c&&(n.log("This browser doesn't support SSE."),c()));l=a.getUrl(n,this.name,p);try{n.log("Attempting to connect to SSE endpoint '"+l+"'."),n.eventSource=new t.EventSource(l,{withCredentials:n.withCredentials})}catch(g){return n.log("EventSource failed trying to connect with error "+g.Message+"."),void(c?c():(d.triggerHandler(i.onError,[r._.transportError(r.resources.eventSourceFailedToConnect,n.transport,g)]),p&&f.reconnect(n)))}p&&(n._.reconnectAttemptTimeoutHandle=t.setTimeout(function(){h===!1&&n.eventSource.readyState!==t.EventSource.OPEN&&f.reconnect(n)},f.timeOut)),n.eventSource.addEventListener("open",function(e){n.log("EventSource connected."),s(n),a.clearReconnectTimeout(n),h===!1&&(h=!0,o(n,r.connectionState.reconnecting,r.connectionState.connected)===!0&&d.triggerHandler(i.onReconnect))},!1),n.eventSource.addEventListener("message",function(e){var t;if("initialized"!==e.data){try{t=n._parseResponse(e.data)}catch(r){return void a.handleParseFailure(n,e.data,r,c,e)}a.processMessages(n,t,u)}},!1),n.eventSource.addEventListener("error",function(e){var o=r._.transportError(r.resources.eventSourceError,n.transport,e);this===n.eventSource&&(c&&c(o)||(n.log("EventSource readyState: "+n.eventSource.readyState+"."),e.eventPhase===t.EventSource.CLOSED?(n.log("EventSource reconnecting due to the server connection ending."),f.reconnect(n)):(n.log("EventSource error."),d.triggerHandler(i.onError,[o]))))},!1)},reconnect:function(e){a.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){a.ajaxSend(e,t)},stop:function(e){s(e),a.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){a.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){var r=e.signalR,i=e.signalR.events,o=e.signalR.changeState,a=r.transports._logic,s=function(){var e=t.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e},u=function(){var e=null,n=1e3,i=0;return{prevent:function(){r._.ieVersion<=8&&(0===i&&(e=t.setInterval(function(){var e=s();t.document.body.appendChild(e),t.document.body.removeChild(e),e=null},n)),i++)},cancel:function(){1===i&&t.clearInterval(e),i>0&&i--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,n,r){var i,o=this,c=a.foreverFrame.count+=1,l=s(),f=function(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),r&&r()||o.reconnect(e)};return t.EventSource?void(r&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),r())):(l.setAttribute("data-signalr-connection-id",e.id),u.prevent(),i=a.getUrl(e,this.name),i+="&frameId="+c,t.document.documentElement.appendChild(l),e.log("Binding to iframe's load event."),l.addEventListener?l.addEventListener("load",f,!1):l.attachEvent&&l.attachEvent("onload",f),l.src=i,a.foreverFrame.connections[c]=e,e.frame=l,e.frameId=c,void(n&&(e.onSuccess=function(){e.log("Iframe transport started."),n()})))},reconnect:function(e){var n=this;a.isConnectedOrReconnecting(e)&&a.verifyLastActive(e)&&t.setTimeout(function(){if(a.verifyLastActive(e)&&e.frame&&a.ensureReconnectingState(e)){var t=e.frame,r=a.getUrl(e,n.name,!0)+"&frameId="+e.frameId;e.log("Updating iframe src to '"+r+"'."),t.src=r}},e.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){a.ajaxSend(e,t)},receive:function(t,n){var i,o,s;if(t.json!==t._originalJson&&(n=t._originalJson.stringify(n)),s=t._parseResponse(n),a.processMessages(t,s,t.onSuccess),t.state===e.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,i=t.frame.contentWindow||t.frame.contentDocument,i&&i.document&&i.document.body)))for(o=i.document.body;o.firstChild;)o.removeChild(o.firstChild)},stop:function(e){var n=null;if(u.cancel(),e.frame){if(e.frame.stop)e.frame.stop();else try{n=e.frame.contentWindow||e.frame.contentDocument,n.document&&n.document.execCommand&&n.document.execCommand("Stop")}catch(r){e.log("Error occured when stopping foreverFrame transport. Message = "+r.message+".")}e.frame.parentNode===t.document.body&&t.document.body.removeChild(e.frame),delete a.foreverFrame.connections[e.frameId],e.frame=null,e.frameId=null,delete e.frame,delete e.frameId,delete e.onSuccess,delete e.frameMessageCount,e.log("Stopping forever frame.")}},abort:function(e,t){a.ajaxAbort(e,t)},getConnection:function(e){return a.foreverFrame.connections[e]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&e(t).triggerHandler(i.onReconnect)}}}(window.jQuery,window),function(e,t,n){var r=e.signalR,i=e.signalR.events,o=e.signalR.changeState,a=e.signalR.isDisconnecting,s=r.transports._logic;r.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(n,u,c){var l=this,f=function(){f=e.noop,n.log("LongPolling connected."),u()},h=function(e){return c(e)?(n.log("LongPolling failed to connect."),!0):!1},d=n._,p=0,g=function(n){t.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,o(n,r.connectionState.reconnecting,r.connectionState.connected)===!0&&(n.log("Raising the reconnect event"),e(n).triggerHandler(i.onReconnect))},m=36e5;n.pollXhr&&(n.log("Polling xhr requests already exists, aborting."),n.stop()),n.messageId=null,d.reconnectTimeoutId=null,d.pollTimeoutId=t.setTimeout(function(){!function o(u,c){var v=u.messageId,y=null===v,b=!y,_=!c,w=s.getUrl(u,l.name,b,_,!0),E={};u.messageId&&(E.messageId=u.messageId),u.groupsToken&&(E.groupsToken=u.groupsToken),a(u)!==!0&&(n.log("Opening long polling request to '"+w+"'."),u.pollXhr=s.ajax(n,{xhrFields:{onprogress:function(){s.markLastMessage(n)}},url:w,type:"POST",contentType:r._.defaultContentType,data:E,timeout:n._.pollTimeout,success:function(r){var i,c,l,m=0;n.log("Long poll complete."),p=0;try{i=n._parseResponse(r)}catch(v){return void s.handleParseFailure(u,r,v,h,u.pollXhr)}null!==d.reconnectTimeoutId&&g(u),i&&(c=s.maximizePersistentResponse(i)),s.processMessages(u,i,f),c&&"number"===e.type(c.LongPollDelay)&&(m=c.LongPollDelay),a(u)!==!0&&(l=c&&c.ShouldReconnect,(!l||s.ensureReconnectingState(u))&&(m>0?d.pollTimeoutId=t.setTimeout(function(){o(u,l)},m):o(u,l)))},error:function(a,c){var f=r._.transportError(r.resources.longPollFailed,n.transport,a,u.pollXhr);if(t.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,"abort"===c)return void n.log("Aborted xhr request.");if(!h(f)){if(p++,n.state!==r.connectionState.reconnecting&&(n.log("An error occurred using longPolling. Status = "+c+".  Response = "+a.responseText+"."),e(u).triggerHandler(i.onError,[f])),(n.state===r.connectionState.connected||n.state===r.connectionState.reconnecting)&&!s.verifyLastActive(n))return;if(!s.ensureReconnectingState(u))return;d.pollTimeoutId=t.setTimeout(function(){o(u,!0)},l.reconnectDelay)}}}),b&&c===!0&&(d.reconnectTimeoutId=t.setTimeout(function(){g(u)},Math.min(1e3*(Math.pow(2,p)-1),m))))}(n)},250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){s.ajaxSend(e,t);

},stop:function(e){t.clearTimeout(e._.pollTimeoutId),t.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){s.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){function r(e){return e+l}function i(e,t,n){var r,i=e.length,o=[];for(r=0;i>r;r+=1)e.hasOwnProperty(r)&&(o[r]=t.call(n,e[r],r,e));return o}function o(t){return e.isFunction(t)?null:"undefined"===e.type(t)?null:t}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function s(e,t){var n,r=e._.invocationCallbacks;a(r)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={};for(var i in r)n=r[i],n.method.call(n.scope,{E:t})}function u(e,t){return new u.fn.init(e,t)}function c(t,n){var r={qs:null,logging:!1,useDefaultPath:!0};return e.extend(r,n),(!t||r.useDefaultPath)&&(t=(t||"")+"/signalr"),new c.fn.init(t,r)}var l=".hubProxy",f=e.signalR;u.fn=u.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:u,hasSubscriptions:function(){return a(this._.callbackMap)},on:function(t,n){var i=this,o=i._.callbackMap;return t=t.toLowerCase(),o[t]||(o[t]={}),o[t][n]=function(e,t){n.apply(i,t)},e(i).bind(r(t),o[t][n]),i},off:function(t,n){var i,o=this,s=o._.callbackMap;return t=t.toLowerCase(),i=s[t],i&&(i[n]?(e(o).unbind(r(t),i[n]),delete i[n],a(i)||delete s[t]):n||(e(o).unbind(r(t)),delete s[t])),o},invoke:function(t){var n=this,r=n.connection,a=e.makeArray(arguments).slice(1),s=i(a,o),u={H:n.hubName,M:t,A:s,I:r._.invocationCallbackId},c=e.Deferred(),l=function(i){var o,a,s=n._maximizeHubResponse(i);e.extend(n.state,s.State),s.Progress?c.notifyWith?c.notifyWith(n,[s.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+e.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):s.Error?(s.StackTrace&&r.log(s.Error+"\n"+s.StackTrace+"."),o=s.IsHubException?"HubException":"Exception",a=f._.error(s.Error,o),a.data=s.ErrorData,r.log(n.hubName+"."+t+" failed to execute. Error: "+a.message),c.rejectWith(n,[a])):(r.log("Invoked "+n.hubName+"."+t),c.resolveWith(n,[s.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:n,method:l},r._.invocationCallbackId+=1,e.isEmptyObject(n.state)||(u.S=n.state),r.log("Invoking "+n.hubName+"."+t),r.send(u),c.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}},u.fn.init.prototype=u.fn,c.fn=c.prototype=e.connection(),c.fn.init=function(t,n){var i={qs:null,logging:!1,useDefaultPath:!0},o=this;e.extend(i,n),e.signalR.fn.init.call(o,t,i.qs,i.logging),o.proxies={},o._.invocationCallbackId=0,o._.invocationCallbacks={},o.received(function(t){var n,i,a,s,u,c;t&&("undefined"!=typeof t.P?(a=t.P.I.toString(),s=o._.invocationCallbacks[a],s&&s.method.call(s.scope,t)):"undefined"!=typeof t.I?(a=t.I.toString(),s=o._.invocationCallbacks[a],s&&(o._.invocationCallbacks[a]=null,delete o._.invocationCallbacks[a],s.method.call(s.scope,t))):(n=this._maximizeClientHubInvocation(t),o.log("Triggering client hub event '"+n.Method+"' on hub '"+n.Hub+"'."),u=n.Hub.toLowerCase(),c=n.Method.toLowerCase(),i=this.proxies[u],e.extend(i.state,n.State),e(i).triggerHandler(r(c),[n.Args])))}),o.error(function(e,t){var n,r;t&&(n=t.I,r=o._.invocationCallbacks[n],r&&(o._.invocationCallbacks[n]=null,delete o._.invocationCallbacks[n],r.method.call(r.scope,{E:e})))}),o.reconnecting(function(){o.transport&&"webSockets"===o.transport.name&&s(o,"Connection started reconnecting before invocation result was received.")}),o.disconnected(function(){s(o,"Connection was disconnected before invocation result was received.")})},c.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},c.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var n=[];e.each(t.proxies,function(e){this.hasSubscriptions()&&(n.push({name:e}),t.log("Client subscribed to hub '"+e+"'."))}),0===n.length&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),t.data=t.json.stringify(n)}))},c.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=u(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},c.fn.init.prototype=c.fn,e.hubConnection=c}(window.jQuery,window),function(e,t){e.signalR.version="2.2.0"}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,u={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){return e.isFunction(r)?void(u[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(u[t]=r)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},u,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var r,i,o=n.call(arguments,1),a=0,s=o.length;s>a;a++)for(r in o[a])i=o[a][r],o[a].hasOwnProperty(r)&&void 0!==i&&(t[r]=e.isPlainObject(i)?e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=n.call(arguments,1),u=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(u=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s),n!==r&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new r(o,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.delegate(l,c,s):n.bind(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,u){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,i=e('<iframe src="'+a+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}u(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",a),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return t.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,i=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})})):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,i.name):e.each(t.files,function(i,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,o,o.uploadName||o.name)})),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),o=i.promise();return n=n||this.options.context||o,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,o)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,o=this,a=t.files[0],s=a.size,u=t.uploadedBytes,c=t.maxChunkSize||s,l=this._blobSlice,f=e.Deferred(),h=f.promise();return this._isXHRUpload(t)&&l&&(u||s>c)&&!t.data?n?!0:u>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=l.call(a,u,u+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+u+"-"+(u+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),r=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(r,a,c){u=o._getUploadedBytes(c)||u+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:u-n.uploadedBytes,total:u-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=u,n.result=r,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),s>u?i():f.resolveWith(n.context,[r,a,c])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,r])})},this._enhancePromise(h),h.abort=function(){return r.abort()},i(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var o=i._progress.total,a=i._response;i._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,o,a,s=this,u=s._getAJAXSettings(n),c=function(){return s._sending+=1,u._bitrateTimer=new s._BitrateTimer,r=r||((i||s._trigger("send",e.Event("send",{delegatedEvent:t}),u)===!1)&&s._getXHRPromise(!1,u.context,i)||s._chunkedUpload(u)||e.ajax(u)).done(function(e,t,n){s._onDone(e,t,n,u)}).fail(function(e,t,n){s._onFail(e,t,n,u)}).always(function(e,t,n){if(s._onAlways(e,t,n,u),s._sending-=1,s._active-=1,u.limitConcurrentUploads&&u.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(u.context,i),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var r,i,o,a,s=this,u=!0,c=e.extend({},this.options,n),l=n.files,f=l.length,h=c.limitMultiFileUploads,d=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!f)return!1;if(d&&void 0===l[0].size&&(d=void 0),(c.singleFileUploads||h||d)&&this._isXHRUpload(c))if(c.singleFileUploads||d||!h)if(!c.singleFileUploads&&d)for(o=[],r=[],a=0;f>a;a+=1)g+=l[a].size+p,(a+1===f||g+l[a+1].size+p>d||h&&a+1-v>=h)&&(o.push(l.slice(v,a+1)),i=m.slice(v,a+1),i.length||(i=m),r.push(i),v=a+1,g=0);else r=m;else for(o=[],r=[],a=0;f>a;a+=h)o.push(l.slice(a,a+h)),i=m.slice(a,a+h),i.length||(i=m),r.push(i);else o=[l],r=[m];return n.originalFiles=l,e.each(o||l,function(i,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=r[i],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),u=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),u},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),i=n.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),i&&r.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},s=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},u=function(){r.readEntries(function(e){e.length?(c=c.concat(e),u()):s(c)},a)},c=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(r=t.createReader(),u()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,r,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,i){var o,a=i.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=r[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),n[a]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,n=i._onSend(null,t),n.then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;
t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ElasticProgress=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===f?62:t===s||t===h?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function n(e){function n(e){c[f++]=e}var r,i,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new o(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],4:[function(e,t,n){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof e?o(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function o(e,t){if(e=p(e,0>t?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function a(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(t,n);return e=p(e,r),e.write(t,n),e}function s(e,t){if(i.isBuffer(t))return u(e,t);if(G(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return l(e,t);if(t instanceof ArrayBuffer)return f(e,t)}return t.length?h(e,t):d(e,t)}function u(e,t){var n=0|g(t.length);return e=p(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|g(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function l(e,t){var n=0|g(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){return i.TYPED_ARRAY_SUPPORT?(t.byteLength,e=i._augment(new Uint8Array(t))):e=l(e,new Uint8Array(t)),e}function h(e,t){var n=0|g(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){var n,r=0;"Buffer"===t.type&&G(t.data)&&(n=t.data,r=0|g(n.length)),e=p(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function p(e,t){i.TYPED_ARRAY_SUPPORT?e=i._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=K),e}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e,t){if(!(this instanceof m))return new m(e,t);var n=new i(e,t);return delete n.parent,n}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return R(this,t,n);case"binary":return O(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function _(e,t,n,r){return z(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return z(V(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return z(X(t),e,n,r)}function T(e,t,n,r){return z(W(t,e.length-n),e,n,r)}function A(e,t,n){return Q.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var u,c,l,f;switch(s){case 1:128>o&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(55296>f||f>57343)&&(a=f));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&1114112>f&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return C(r)}function C(e){var t=e.length;if(Z>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=H(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||a>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function P(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function U(e,t,n,r,i){return i||D(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||D(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,n,r,52,8),n+8}function B(e){if(e=F(e).replace($,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function X(e){return Q.toByteArray(B(e))}function z(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var Q=e("base64-js"),Y=e("ieee754"),G=e("is-array");n.Buffer=i,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var K={};i.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);a>o&&e[o]===t[o];)++o;return o!==a&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!G(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},i.byteLength=v,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):y.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},i.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Y.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Y.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Y.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Y.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||L(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||L(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):P(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):k(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):k(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):P(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||L(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):k(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&t>n&&r>t)for(o=a-1;o>=0;o--)e[o+t]=this[o+n];else if(1e3>a||!i.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=q(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=J.get,e.set=J.set,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.equals=J.equals,e.compare=J.compare,e.indexOf=J.indexOf,e.copy=J.copy,e.slice=J.slice,e.readUIntLE=J.readUIntLE,e.readUIntBE=J.readUIntBE,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readIntLE=J.readIntLE,e.readIntBE=J.readIntBE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUIntLE=J.writeUIntLE,e.writeUIntBE=J.writeUIntBE,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeIntLE=J.writeIntLE,e.writeIntBE=J.writeIntBE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=J.toArrayBuffer,e};var $=/[^+\/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:8,"is-array":10}],5:[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return f(e)&&"[object RegExp]"===v(e)}function f(e){return"object"==typeof e&&null!==e}function h(e){return f(e)&&"[object Date]"===v(e)}function d(e){return f(e)&&("[object Error]"===v(e)||e instanceof Error)}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=f,n.isDate=h,n.isError=d,n.isFunction=p,n.isPrimitive=g,n.isBuffer=m}).call(this,e("buffer").Buffer)},{buffer:4}],6:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],7:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},a=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var o;for(o in e);return"undefined"==typeof o||r.call(e,o)};t.exports=function s(){var e,t,n,r,i,u,c=arguments[0],l=1,f=arguments.length,h=!1;for("boolean"==typeof c?(h=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});f>l;++l)if(e=arguments[l],null!=e)for(t in e)n=c[t],r=e[t],c!==r&&(h&&r&&(a(r)||(i=o(r)))?(i?(i=!1,u=n&&o(n)?n:[]):u=n&&a(n)?n:{},c[t]=s(h,u,r)):"undefined"!=typeof r&&(c[t]=r));return c}},{}],8:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:(d?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*g}},{}],9:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],10:[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],11:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],12:[function(e,t,n){(function(e){"use strict";function n(t){for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];e.nextTick(function(){t.apply(null,n)})}t.exports=n}).call(this,e("_process"))},{_process:13}],13:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],14:[function(e,t,n){"use strict";function r(e){return this instanceof r?(c.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var s=e("process-nextick-args"),u=e("core-util-is");u.inherits=e("inherits");var c=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(r,c);for(var f=a(l.prototype),h=0;h<f.length;h++){var d=f[h];r.prototype[d]||(r.prototype[d]=l.prototype[d])}},{"./_stream_readable":16,"./_stream_writable":18,"core-util-is":5,inherits:9,"process-nextick-args":12}],15:[function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":17,"core-util-is":5,inherits:9}],16:[function(e,t,n){(function(n){"use strict";function r(t,n){var r=e("./_stream_duplex");t=t||{},this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void O.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&f(e)),d(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=L)e=L;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return C.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,f(e)}}function f(e){var t=e._readableState;

t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A(h,e):h(e))}function h(e){M("emit readable"),e.emit("readable"),b(e)}function d(e,t){t.readingMore||(t.readingMore=!0,A(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&R.listenerCount(e,"data")&&(t.flowing=!0,b(e))}}function m(e){M("readable nexttick read 0"),e.read(0)}function v(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A(y,e,t))}function y(e,t){t.reading||(M("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(M("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function _(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):C.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new C(e);for(var u=0,c=0,l=r.length;l>c&&e>u;c++){var s=r[0],f=Math.min(e-u,s.length);o?n+=s.slice(0,f):s.copy(n,u,0,f),f<s.length?r[0]=s.slice(f):r.shift(),u+=f}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,A(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function S(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function T(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var A=e("process-nextick-args"),x=e("isarray"),C=e("buffer").Buffer;i.ReadableState=r;var R=e("events").EventEmitter;R.listenerCount||(R.listenerCount=function(e,t){return e.listeners(t).length});var O;!function(){try{O=e("stream")}catch(t){}finally{O||(O=e("events").EventEmitter)}}();var C=e("buffer").Buffer,I=e("core-util-is");I.inherits=e("inherits");var M=e("util");M=M&&M.debuglog?M.debuglog("stream"):function(){};var N;I.inherits(i,O),i.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new C(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(t){return N||(N=e("string_decoder/").StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var L=8388608;i.prototype.read=function(e){M("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):f(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;M("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,M("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,M("reading or ended",r)),r&&(M("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?_(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),null!==i&&this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){M("onunpipe"),e===f&&o()}function i(){M("onend"),e.end()}function o(){M("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",m),e.removeListener("error",s),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",a),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function a(t){M("ondata");var n=e.write(t);!1===n&&(M("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function s(t){M("onerror",t),l(),e.removeListener("error",s),0===R.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){M("onfinish"),e.removeListener("close",u),l()}function l(){M("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,M("pipe count=%d opts=%j",h.pipesCount,t);var d=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=d?i:o;h.endEmitted?A(p):f.once("end",p),e.on("unpipe",r);var m=g(f);return e.on("drain",m),f.on("data",a),e._events&&e._events.error?x(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",u),e.once("finish",c),e.emit("pipe",f),h.flowing||(M("pipe resume"),f.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=T(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=O.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&f(this,r):A(m,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,v(this,e)),this},i.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(M("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return S(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){M("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=_}).call(this,e("_process"))},{"./_stream_duplex":14,_process:13,buffer:4,"core-util-is":5,events:6,inherits:9,isarray:11,"process-nextick-args":12,"string_decoder/":20,util:2}],17:[function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var s=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":14,"core-util-is":5,inherits:9}],18:[function(e,t,n){"use strict";function r(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(t,n){var r=e("./_stream_duplex");t=t||{},this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(t){var n=e("./_stream_duplex");return this instanceof a||this instanceof n?(this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void A.call(this)):new a(t)}function s(e,t){var n=new Error("write after end");e.emit("error",n),E(t,n)}function u(e,t,n,r){var i=!0;if(!S.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),E(r,o),i=!1}return i}function c(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new S(t,n)),t}function l(e,t,n,r,o){n=c(t,n,r),S.isBuffer(n)&&(r="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest}else f(e,t,!1,a,n,r,o);return s}function f(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,n,r,i){--t.pendingcb,n?E(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(d(n),t)h(e,n,r,t,i);else{var o=y(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?E(g,e,n,o,i):g(e,n,o,i)}}function g(e,t,n,r){n||m(e,t),t.pendingcb--,r(),_(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){for(var r=[],i=[];n;)i.push(n.callback),r.push(n),n=n.next;t.pendingcb++,t.lastBufferedRequest=null,f(e,t,!0,t.length,r,"",function(e){for(var n=0;n<i.length;n++)t.pendingcb--,i[n](e)})}else{for(;n;){var o=n.chunk,a=n.encoding,s=n.callback,u=t.objectMode?1:o.length;if(f(e,t,!1,u,o,a,s),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function _(e,t){var n=y(t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function w(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?E(n):e.once("finish",n)),t.ended=!0}t.exports=a;var E=e("process-nextick-args"),S=e("buffer").Buffer;a.WritableState=o;var T=e("core-util-is");T.inherits=e("inherits");var A;!function(){try{A=e("stream")}catch(t){}finally{A||(A=e("events").EventEmitter)}}();var S=e("buffer").Buffer;T.inherits(a,A),o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:e("util-deprecate")(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer() instead.")})}catch(t){}}(),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(e,t,n){var i=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),S.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?s(this,n):u(this,i,e,n)&&(i.pendingcb++,o=l(this,i,e,t,n)),o},a.prototype.cork=function(){var e=this._writableState;e.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},a.prototype._write=function(e,t,n){n(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}},{"./_stream_duplex":14,buffer:4,"core-util-is":5,events:6,inherits:9,"process-nextick-args":12,"util-deprecate":25}],19:[function(e,t,n){var r=function(){try{return e("stream")}catch(t){}}();n=t.exports=e("./lib/_stream_readable.js"),n.Stream=r||n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":14,"./lib/_stream_passthrough.js":15,"./lib/_stream_readable.js":16,"./lib/_stream_transform.js":17,"./lib/_stream_writable.js":18}],20:[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,u=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:4}],21:[function(e,t,n){function r(e){this.commands=r.parse(e)}r.prototype.encode=function(){return r.encode(this.commands)},r.prototype.round=function(){return this.transform.apply(this,[r.Transformer.ROUND].concat([].slice.call(arguments,0)))},r.prototype.toAbs=function(){return this.transform(r.Transformer.TO_ABS)},r.prototype.toRel=function(){return this.transform(r.Transformer.TO_REL)},r.prototype.translate=function(){return this.transform.apply(this,[r.Transformer.TRANSLATE].concat([].slice.call(arguments,0)))},r.prototype.scale=function(){return this.transform.apply(this,[r.Transformer.SCALE].concat([].slice.call(arguments,0)))},r.prototype.rotate=function(){return this.transform.apply(this,[r.Transformer.ROTATE].concat([].slice.call(arguments,0)))},r.prototype.matrix=function(){return this.transform.apply(this,[r.Transformer.MATRIX].concat([].slice.call(arguments,0)))},r.prototype.skewX=function(){return this.transform.apply(this,[r.Transformer.SKEW_X].concat([].slice.call(arguments,0)))},r.prototype.skewY=function(){return this.transform.apply(this,[r.Transformer.SKEW_Y].concat([].slice.call(arguments,0)))},r.prototype.xSymetry=function(){return this.transform.apply(this,[r.Transformer.X_AXIS_SIMETRY].concat([].slice.call(arguments,0)))},r.prototype.ySymetry=function(){return this.transform.apply(this,[r.Transformer.Y_AXIS_SIMETRY].concat([].slice.call(arguments,0)))},r.prototype.aToC=function(){return this.transform.apply(this,[r.Transformer.A_TO_C].concat([].slice.call(arguments,0)))},r.prototype.transform=function(e){for(var t=[],e=e.apply(null,[].slice.call(arguments,1)),n=[],r=this.commands,i=0,o=r.length;o>i;i++)n=e(r[i]),n instanceof Array?t=t.concat(n):t.push(n);return this.commands=t,this},r.encode=function(e){var t="",n=new r.Encoder;return n.on("readable",function(){var e;do e=n.read(),null!==e&&(t+=e);while(null!==e)}),n.write(e),n.end(),t},r.parse=function(e){var t=[],n=new r.Parser;return n.on("readable",function(){var e;do e=n.read(),null!==e&&t.push(e);while(null!==e)}),n.write(e),n.end(),t},r.CLOSE_PATH=1,r.MOVE_TO=2,r.HORIZ_LINE_TO=4,r.VERT_LINE_TO=8,r.LINE_TO=16,r.CURVE_TO=32,r.SMOOTH_CURVE_TO=64,r.QUAD_TO=128,r.SMOOTH_QUAD_TO=256,r.ARC=512,r.DRAWING_COMMANDS=r.HORIZ_LINE_TO|r.VERT_LINE_TO|r.LINE_TO|r.CURVE_TO|r.SMOOTH_CURVE_TO|r.QUAD_TO|r.SMOOTH_QUAD_TO|r.ARC,t.exports=r,r.Parser=e("./SVGPathDataParser.js"),r.Encoder=e("./SVGPathDataEncoder.js"),r.Transformer=e("./SVGPathDataTransformer.js")},{"./SVGPathDataEncoder.js":22,"./SVGPathDataParser.js":23,"./SVGPathDataTransformer.js":24}],22:[function(e,t,n){(function(n){function r(e){return this instanceof r?(o.call(this,{objectMode:!0}),this._writableState.objectMode=!0,void(this._readableState.objectMode=!1)):new r(e)}var i=e("./SVGPathData.js"),o=e("readable-stream").Transform,a=e("util"),s=" ";a.inherits(r,o),r.prototype._transform=function(e,t,r){var o="";e instanceof Array||(e=[e]);for(var a=0,u=e.length;u>a;a++)e[a].type!==i.CLOSE_PATH?e[a].type===i.HORIZ_LINE_TO?o+=(e[a].relative?"h":"H")+e[a].x:e[a].type===i.VERT_LINE_TO?o+=(e[a].relative?"v":"V")+e[a].y:e[a].type===i.MOVE_TO?o+=(e[a].relative?"m":"M")+e[a].x+s+e[a].y:e[a].type===i.LINE_TO?o+=(e[a].relative?"l":"L")+e[a].x+s+e[a].y:e[a].type===i.CURVE_TO?o+=(e[a].relative?"c":"C")+e[a].x2+s+e[a].y2+s+e[a].x1+s+e[a].y1+s+e[a].x+s+e[a].y:e[a].type===i.SMOOTH_CURVE_TO?o+=(e[a].relative?"s":"S")+e[a].x2+s+e[a].y2+s+e[a].x+s+e[a].y:e[a].type===i.QUAD_TO?o+=(e[a].relative?"q":"Q")+e[a].x1+s+e[a].y1+s+e[a].x+s+e[a].y:e[a].type===i.SMOOTH_QUAD_TO?o+=(e[a].relative?"t":"T")+e[a].x+s+e[a].y:e[a].type===i.ARC?o+=(e[a].relative?"a":"A")+e[a].rX+s+e[a].rY+s+e[a].xRot+s+e[a].lArcFlag+s+e[a].sweepFlag+s+e[a].x+s+e[a].y:this.emit("error",new Error('Unexpected command type "'+e[a].type+'" at index '+a+".")):o+="z";this.push(new n(o,"utf8")),r()},t.exports=r}).call(this,e("buffer").Buffer)},{"./SVGPathData.js":21,buffer:4,"readable-stream":19,util:27}],23:[function(e,t,n){(function(n){function r(e){return this instanceof r?(o.call(this,{objectMode:!0}),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.state=r.STATE_COMMAS_WSPS,this.curNumber="",this.curCommand=null,this._flush=function(e){this._transform(new n(" "),"utf-8",function(){}),null!==this.curCommand&&(this.curCommand.invalid&&this.emit("error",new SyntaxError("Unterminated command at the path end.")),this.push(this.curCommand),this.curCommand=null,this.state^=this.state&r.STATE_COMMANDS_MASK),e()},void(this._transform=function(e,t,n){for(var o=e.toString("buffer"!==t?t:"utf8"),a=0,p=o.length;p>a;a++){if((this.state&r.STATE_WSP||this.state&r.STATE_WSPS)&&-1!==s.indexOf(o[a])){if(this.state^=this.state&r.STATE_WSP,""===this.curNumber)continue;this.state^=this.state&r.STATE_NUMBER_MASK}if((this.state&r.STATE_COMMA||this.state&r.STATE_COMMAS)&&-1!==h.indexOf(o[a])){if(this.state^=this.state&r.STATE_COMMA,""===this.curNumber)continue;this.state^=this.state&r.STATE_NUMBER_MASK}if(this.state&r.STATE_NUMBER){if((this.state&r.STATE_NUMBER_MASK)===r.STATE_NUMBER&&(this.state|=r.STATE_NUMBER_INT|r.STATE_NUMBER_DIGITS,-1!==c.indexOf(o[a]))){this.curNumber+=o[a];continue}if(this.state&r.STATE_NUMBER_EXPSIGN&&(this.state^=r.STATE_NUMBER_EXPSIGN,this.state|=r.STATE_NUMBER_DIGITS,-1!==c.indexOf(o[a]))){this.curNumber+=o[a];continue}if(this.state&r.STATE_NUMBER_DIGITS){if(-1!==u.indexOf(o[a])){this.curNumber+=o[a];continue}this.state^=r.STATE_NUMBER_DIGITS}if(this.state&r.STATE_NUMBER_INT){if(this.state^=r.STATE_NUMBER_INT,-1!==f.indexOf(o[a])){this.curNumber+=o[a],this.state|=r.STATE_NUMBER_FLOAT|r.STATE_NUMBER_DIGITS;continue}if(-1!==l.indexOf(o[a])){this.curNumber+=o[a],this.state|=r.STATE_NUMBER_EXP|r.STATE_NUMBER_EXPSIGN;continue}this.state^=this.state&r.STATE_NUMBER_MASK}if(this.state&r.STATE_NUMBER_FLOAT){if(this.state^=r.STATE_NUMBER_FLOAT,-1!==l.indexOf(o[a])){this.curNumber+=o[a],this.state|=r.STATE_NUMBER_EXP|r.STATE_NUMBER_EXPSIGN;continue}this.state^=this.state&r.STATE_NUMBER_MASK}this.state&r.STATE_NUMBER_EXP&&(this.state^=this.state&r.STATE_NUMBER_MASK)}if(this.curNumber){if(this.state&r.STATE_HORIZ_LINE_TO?(null===this.curCommand?this.push({type:i.HORIZ_LINE_TO,relative:!!(this.state&r.STATE_RELATIVE),x:Number(this.curNumber)}):(this.curCommand.x=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER):this.state&r.STATE_VERT_LINE_TO?(null===this.curCommand?this.push({type:i.VERT_LINE_TO,relative:!!(this.state&r.STATE_RELATIVE),y:Number(this.curNumber)}):(this.curCommand.y=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER):this.state&r.STATE_MOVE_TO||this.state&r.STATE_LINE_TO||this.state&r.STATE_SMOOTH_QUAD_TO?(null===this.curCommand?this.curCommand={type:this.state&r.STATE_MOVE_TO?i.MOVE_TO:this.state&r.STATE_LINE_TO?i.LINE_TO:i.SMOOTH_QUAD_TO,relative:!!(this.state&r.STATE_RELATIVE),x:Number(this.curNumber)}:"undefined"==typeof this.curCommand.x?this.curCommand.x=Number(this.curNumber):(delete this.curCommand.invalid,this.curCommand.y=Number(this.curNumber),this.push(this.curCommand),this.curCommand=null,this.state&r.STATE_MOVE_TO&&(this.state^=r.STATE_MOVE_TO,this.state|=r.STATE_LINE_TO)),this.state|=r.STATE_NUMBER):this.state&r.STATE_CURVE_TO?(null===this.curCommand?this.curCommand={type:i.CURVE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0,x2:Number(this.curNumber)}:"undefined"==typeof this.curCommand.x2?this.curCommand.x2=Number(this.curNumber):"undefined"==typeof this.curCommand.y2?this.curCommand.y2=Number(this.curNumber):"undefined"==typeof this.curCommand.x1?this.curCommand.x1=Number(this.curNumber):"undefined"==typeof this.curCommand.y1?this.curCommand.y1=Number(this.curNumber):"undefined"==typeof this.curCommand.x?this.curCommand.x=Number(this.curNumber):"undefined"==typeof this.curCommand.y&&(this.curCommand.y=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER):this.state&r.STATE_SMOOTH_CURVE_TO?(null===this.curCommand?this.curCommand={type:i.SMOOTH_CURVE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0,x2:Number(this.curNumber)}:"undefined"==typeof this.curCommand.x2?this.curCommand.x2=Number(this.curNumber):"undefined"==typeof this.curCommand.y2?this.curCommand.y2=Number(this.curNumber):"undefined"==typeof this.curCommand.x?this.curCommand.x=Number(this.curNumber):"undefined"==typeof this.curCommand.y&&(this.curCommand.y=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER):this.state&r.STATE_QUAD_TO?(null===this.curCommand?this.curCommand={type:i.QUAD_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0,x1:Number(this.curNumber)}:"undefined"==typeof this.curCommand.x1?this.curCommand.x1=Number(this.curNumber):"undefined"==typeof this.curCommand.y1?this.curCommand.y1=Number(this.curNumber):"undefined"==typeof this.curCommand.x?this.curCommand.x=Number(this.curNumber):"undefined"==typeof this.curCommand.y&&(this.curCommand.y=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER):this.state&r.STATE_ARC&&(null===this.curCommand?this.curCommand={type:i.ARC,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0,rX:Number(this.curNumber)}:"undefined"==typeof this.curCommand.rX?(Number(this.curNumber)<0&&this.emit("error",new SyntaxError('Expected positive number, got "'+this.curNumber+'" at index "'+a+'"')),this.curCommand.rX=Number(this.curNumber)):"undefined"==typeof this.curCommand.rY?(Number(this.curNumber)<0&&this.emit("error",new SyntaxError('Expected positive number, got "'+this.curNumber+'" at index "'+a+'"')),this.curCommand.rY=Number(this.curNumber)):"undefined"==typeof this.curCommand.xRot?this.curCommand.xRot=Number(this.curNumber):"undefined"==typeof this.curCommand.lArcFlag?("0"!==this.curNumber&&"1"!==this.curNumber&&this.emit("error",new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"')),this.curCommand.lArcFlag=Number(this.curNumber)):"undefined"==typeof this.curCommand.sweepFlag?("0"!==this.curNumber&&"1"!==this.curNumber&&this.emit("error",new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"')),this.curCommand.sweepFlag=Number(this.curNumber)):"undefined"==typeof this.curCommand.x?this.curCommand.x=Number(this.curNumber):"undefined"==typeof this.curCommand.y&&(this.curCommand.y=Number(this.curNumber),delete this.curCommand.invalid,this.push(this.curCommand),this.curCommand=null),this.state|=r.STATE_NUMBER),this.curNumber="",-1!==s.indexOf(o[a])||-1!==h.indexOf(o[a]))continue;if(-1!==c.indexOf(o[a])){this.curNumber=o[a],this.state|=r.STATE_NUMBER_INT|r.STATE_NUMBER_DIGITS;continue}if(-1!==f.indexOf(o[a])){this.curNumber=o[a],this.state|=r.STATE_NUMBER_FLOAT|r.STATE_NUMBER_DIGITS;continue}}-1!==d.indexOf(o[a])&&null!==this.curCommand&&(this.curCommand.invalid&&this.emit("error",new SyntaxError("Unterminated command at index "+a+".")),this.push(this.curCommand),this.curCommand=null,this.state^=this.state&r.STATE_COMMANDS_MASK),this.state^=this.state&r.STATE_COMMANDS_MASK,o[a]===o[a].toLowerCase()?this.state|=r.STATE_RELATIVE:this.state^=this.state&r.STATE_RELATIVE,"z"!==o[a].toLowerCase()?("h"===o[a].toLowerCase()?(this.state|=r.STATE_HORIZ_LINE_TO,this.curCommand={type:i.HORIZ_LINE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"v"===o[a].toLowerCase()?(this.state|=r.STATE_VERT_LINE_TO,this.curCommand={type:i.VERT_LINE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"m"===o[a].toLowerCase()?(this.state|=r.STATE_MOVE_TO,this.curCommand={type:i.MOVE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"l"===o[a].toLowerCase()?(this.state|=r.STATE_LINE_TO,this.curCommand={type:i.LINE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"c"===o[a].toLowerCase()?(this.state|=r.STATE_CURVE_TO,this.curCommand={type:i.CURVE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"s"===o[a].toLowerCase()?(this.state|=r.STATE_SMOOTH_CURVE_TO,this.curCommand={type:i.SMOOTH_CURVE_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"q"===o[a].toLowerCase()?(this.state|=r.STATE_QUAD_TO,this.curCommand={type:i.QUAD_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"t"===o[a].toLowerCase()?(this.state|=r.STATE_SMOOTH_QUAD_TO,this.curCommand={type:i.SMOOTH_QUAD_TO,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):"a"===o[a].toLowerCase()?(this.state|=r.STATE_ARC,this.curCommand={type:i.ARC,relative:!!(this.state&r.STATE_RELATIVE),invalid:!0}):this.emit("error",new SyntaxError('Unexpected character "'+o[a]+'" at index '+a+".")),this.state|=r.STATE_COMMAS_WSPS|r.STATE_NUMBER):(this.push({type:i.CLOSE_PATH}),this.state=r.STATE_COMMAS_WSPS)}n()})):new r(e)}var i=e("./SVGPathData.js"),o=e("readable-stream").Transform,a=e("util"),s=[" ","	","\r","\n"],u=["0","1","2","3","4","5","6","7","8","9"],c=["-","+"],l=["e","E"],f=["."],h=[","],d=["m","M","z","Z","l","L","h","H","v","V","c","C","s","S","q","Q","t","T","a","A"];a.inherits(r,o),r.STATE_WSP=1,r.STATE_WSPS=2,r.STATE_COMMA=4,r.STATE_COMMAS=8,r.STATE_COMMAS_WSPS=r.STATE_WSP|r.STATE_WSPS|r.STATE_COMMA|r.STATE_COMMAS,r.STATE_NUMBER=16,r.STATE_NUMBER_DIGITS=32,r.STATE_NUMBER_INT=64,r.STATE_NUMBER_FLOAT=128,r.STATE_NUMBER_EXP=256,r.STATE_NUMBER_EXPSIGN=512,r.STATE_NUMBER_MASK=r.STATE_NUMBER|r.STATE_NUMBER_DIGITS|r.STATE_NUMBER_INT|r.STATE_NUMBER_EXP|r.STATE_NUMBER_FLOAT,r.STATE_RELATIVE=1024,r.STATE_CLOSE_PATH=2048,r.STATE_MOVE_TO=4096,r.STATE_LINE_TO=8192,r.STATE_HORIZ_LINE_TO=16384,r.STATE_VERT_LINE_TO=32768,r.STATE_CURVE_TO=65536,r.STATE_SMOOTH_CURVE_TO=131072,r.STATE_QUAD_TO=262144,r.STATE_SMOOTH_QUAD_TO=524288,r.STATE_ARC=1048576,r.STATE_COMMANDS_MASK=r.STATE_CLOSE_PATH|r.STATE_MOVE_TO|r.STATE_LINE_TO|r.STATE_HORIZ_LINE_TO|r.STATE_VERT_LINE_TO|r.STATE_CURVE_TO|r.STATE_SMOOTH_CURVE_TO|r.STATE_QUAD_TO|r.STATE_SMOOTH_QUAD_TO|r.STATE_ARC,t.exports=r}).call(this,e("buffer").Buffer)},{"./SVGPathData.js":21,buffer:4,"readable-stream":19,util:27}],24:[function(e,t,n){function r(e){if(!(this instanceof r))return new(r.bind.apply(r,[r].concat([].slice.call(arguments,0))));if("function"!=typeof e)throw new Error("Please provide a transform callback to receive commands.");if(this._transformer=e.apply(null,[].slice.call(arguments,1)),"function"!=typeof this._transformer)throw new Error("Please provide a valid transform (returning a function).");a.call(this,{objectMode:!0})}function i(e,t,n,r,o,a,s,u,c,l){var f,h=Math.PI,d=120*h/180,p=h/180*(+o||0),g=[],m=function(e,t,n){var r=e*Math.cos(n)-t*Math.sin(n),i=e*Math.sin(n)+t*Math.cos(n);return{x:r,y:i}};if(l)A=l[0],x=l[1],S=l[2],T=l[3];else{f=m(e,t,-p),e=f.x,t=f.y,f=m(u,c,-p),u=f.x,c=f.y;var v=(Math.cos(h/180*o),Math.sin(h/180*o),(e-u)/2),y=(t-c)/2,b=v*v/(n*n)+y*y/(r*r);b>1&&(b=Math.sqrt(b),n=b*n,
r=b*r);var _=n*n,w=r*r,E=(a==s?-1:1)*Math.sqrt(Math.abs((_*w-_*y*y-w*v*v)/(_*y*y+w*v*v))),S=E*n*y/r+(e+u)/2,T=E*-r*v/n+(t+c)/2,A=Math.asin(((t-T)/r).toFixed(9)),x=Math.asin(((c-T)/r).toFixed(9));A=S>e?h-A:A,x=S>u?h-x:x,0>A&&(A=2*h+A),0>x&&(x=2*h+x),s&&A>x&&(A-=2*h),!s&&x>A&&(x-=2*h)}var C=x-A;if(Math.abs(C)>d){var R=x,O=u,I=c;x=A+d*(s&&x>A?1:-1),u=S+n*Math.cos(x),c=T+r*Math.sin(x),g=i(u,c,n,r,o,0,s,O,I,[x,R,S,T])}C=x-A;var M=Math.cos(A),N=Math.sin(A),L=Math.cos(x),P=Math.sin(x),k=Math.tan(C/4),D=4/3*n*k,U=4/3*r*k,j=[e,t],B=[e+D*N,t-U*M],F=[u+D*P,c-U*L],H=[u,c];if(B[0]=2*j[0]-B[0],B[1]=2*j[1]-B[1],l)return[B,F,H].concat(g);g=[B,F,H].concat(g).join().split(",");for(var q=[],V=0,W=g.length;W>V;V++)q[V]=V%2?m(g[V-1],g[V],p).y:m(g[V],g[V+1],p).x;return q}var o=e("./SVGPathData.js"),a=e("readable-stream").Transform,s=e("util");s.inherits(r,a),r.prototype._transform=function(e,t,n){e instanceof Array||(e=[e]);for(var r=0,i=e.length;i>r;r++)this.push(this._transformer(e[r]));n()},r.ROUND=function(e){return e=e||1e13,function(t){return"undefined"!=typeof t.x1&&(t.x1=Math.round(t.x1*e)/e),"undefined"!=typeof t.y1&&(t.y1=Math.round(t.y1*e)/e),"undefined"!=typeof t.x2&&(t.x2=Math.round(t.x2*e)/e),"undefined"!=typeof t.y2&&(t.y2=Math.round(t.y2*e)/e),"undefined"!=typeof t.x&&(t.x=Math.round(t.x*e,12)/e),"undefined"!=typeof t.y&&(t.y=Math.round(t.y*e,12)/e),t}},r.TO_ABS=function(){var e=0,t=0,n=0/0,r=0/0;return function(i){return isNaN(n)&&i.type&o.DRAWING_COMMANDS&&(n=e,r=t),i.type&o.CLOSE_PATH&&!isNaN(n)&&(e=isNaN(n)?0:n,t=isNaN(r)?0:r,n=0/0,r=0/0),i.relative&&("undefined"!=typeof i.x1&&(i.x1=e+i.x1),"undefined"!=typeof i.y1&&(i.y1=t+i.y1),"undefined"!=typeof i.x2&&(i.x2=e+i.x2),"undefined"!=typeof i.y2&&(i.y2=t+i.y2),"undefined"!=typeof i.x&&(i.x=e+i.x),"undefined"!=typeof i.y&&(i.y=t+i.y),i.relative=!1),e="undefined"!=typeof i.x?i.x:e,t="undefined"!=typeof i.y?i.y:t,i}},r.TO_REL=function(){var e=0,t=0;return function(n){return n.relative||("undefined"!=typeof n.x1&&(n.x1=n.x1-e),"undefined"!=typeof n.y1&&(n.y1=n.y1-t),"undefined"!=typeof n.x2&&(n.x2=n.x2-e),"undefined"!=typeof n.y2&&(n.y2=n.y2-t),"undefined"!=typeof n.x&&(n.x=n.x-e),"undefined"!=typeof n.y&&(n.y=n.y-t),n.relative=!0),e="undefined"!=typeof n.x?e+n.x:e,t="undefined"!=typeof n.y?t+n.y:t,n}},r.MATRIX=function(e,t,n,r,i,o){var a,s;if("number"!=typeof o)throw new Error("A matrix transformation requires parameters [a,b,c,d,e,f] to be set and to be numbers.");return function(u){var c=u.x,l=u.x1,f=u.x2;return"undefined"!=typeof u.x&&(u.x=u.x*e+("undefined"!=typeof u.y?u.y:u.relative?0:s||0)*n+(u.relative&&"undefined"!=typeof a?0:i)),"undefined"!=typeof u.y&&(u.y=("undefined"!=typeof c?c:u.relative?0:a||0)*t+u.y*r+(u.relative&&"undefined"!=typeof s?0:o)),"undefined"!=typeof u.x1&&(u.x1=u.x1*e+u.y1*n+(u.relative&&"undefined"!=typeof a?0:i)),"undefined"!=typeof u.y1&&(u.y1=l*t+u.y1*r+(u.relative&&"undefined"!=typeof s?0:o)),"undefined"!=typeof u.x2&&(u.x2=u.x2*e+u.y2*n+(u.relative&&"undefined"!=typeof a?0:i)),"undefined"!=typeof u.y2&&(u.y2=f*t+u.y2*r+(u.relative&&"undefined"!=typeof s?0:o)),a="undefined"!=typeof u.x?u.relative?(a||0)+u.x:u.x:a||0,s="undefined"!=typeof u.y?u.relative?(s||0)+u.y:u.y:s||0,u}},r.ROTATE=function(e,t,n){if("number"!=typeof e)throw new Error("A rotate transformation requires the parameter a to be set and to be a number.");return function(e,t,n){return function(r){return n(t(e(r)))}}(r.TRANSLATE(-(t||0),-(n||0)),r.MATRIX(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0),r.TRANSLATE(t||0,n||0))},r.TRANSLATE=function(e,t){if("number"!=typeof e)throw new Error("A translate transformation requires the parameter dX to be set and to be a number.");return r.MATRIX(1,0,0,1,e,t||0)},r.SCALE=function(e,t){if("number"!=typeof e)throw new Error("A scale transformation requires the parameter dX to be set and to be a number.");return r.MATRIX(e,0,0,t||e,0,0)},r.SKEW_X=function(e){if("number"!=typeof e)throw new Error("A skewX transformation requires the parameter x to be set and to be a number.");return r.MATRIX(1,0,Math.atan(e),1,0,0)},r.SKEW_Y=function(e){if("number"!=typeof e)throw new Error("A skewY transformation requires the parameter y to be set and to be a number.");return r.MATRIX(1,Math.atan(e),0,1,0,0)},r.X_AXIS_SIMETRY=function(e){return function(e,t,n){return function(r){return n(t(e(r)))}}(r.TO_ABS(),r.SCALE(-1,1),r.TRANSLATE(e||0,0))},r.Y_AXIS_SIMETRY=function(e){return function(e,t,n){return function(r){return n(t(e(r)))}}(r.TO_ABS(),r.SCALE(1,-1),r.TRANSLATE(0,e||0))},r.A_TO_C=function(){var e,t=0,n=0;return function(r){return function(a){var s=[];if(a=r(a),a.type===o.ARC){e=i(t,n,a.rX,a.rX,a.xRot,a.lArcFlag,a.sweepFlag,a.x,a.y),t=a.x,n=a.y;for(var u=0,c=e.length;c>u;u+=6)s.push({type:o.CURVE_TO,relative:!1,x2:e[u],y2:e[u+1],x1:e[u+2],y1:e[u+3],x:e[u+4],y:e[u+5]});return s}return t=a.x,n=a.y,a}}(r.TO_ABS())},t.exports=r},{"./SVGPathData.js":21,"readable-stream":19,util:27}],25:[function(e,t,n){(function(e){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(t){if(!e.localStorage)return!1;var n=e.localStorage[t];return null==n?!1:"true"===String(n).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],27:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var a=Object.keys(t),g=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),A(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(x(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(E(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return l(t)}var v="",y=!1,_=["{","}"];if(p(t)&&(y=!0,_=["[","]"]),x(t)){var w=t.name?": "+t.name:"";v=" [Function"+w+"]"}if(E(t)&&(v=" "+RegExp.prototype.toString.call(t)),T(t)&&(v=" "+Date.prototype.toUTCString.call(t)),A(t)&&(v=" "+l(t)),0===a.length&&(!y||0==t.length))return _[0]+v+_[1];if(0>r)return E(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=y?f(e,t,r,g,a):a.map(function(n){return h(e,t,r,g,n,y)}),e.seen.pop(),d(S,v,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)o.push(M(t,String(a))?h(e,t,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),M(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?u(e,c.value,null):u(e,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function E(e){return S(e)&&"[object RegExp]"===R(e)}function S(e){return"object"==typeof e&&null!==e}function T(e){return S(e)&&"[object Date]"===R(e)}function A(e){return S(e)&&("[object Error]"===R(e)||e instanceof Error)}function x(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function R(e){return Object.prototype.toString.call(e)}function O(e){return 10>e?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=m(s)||!S(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var L,P={};n.debuglog=function(e){if(w(L)&&(L=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var r=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else P[e]=function(){};return P[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=E,n.isObject=S,n.isDate=T,n.isError=A,n.isFunction=x,n.isPrimitive=C,n.isBuffer=e("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":26,_process:13,inherits:9}],28:[function(e,t,n){var r=e("extend");t.exports=function(e){return r(!0,{},e)}},{extend:7}],29:[function(e,t,n){function r(e,t){"undefined"==typeof e&&(e=1200),"undefined"==typeof t&&(t=1200);var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",e),n.setAttribute("height",t),n}t.exports=r},{}],30:[function(e,t,n){t.exports=function(e,t,n){return Math.max(Math.min(e,n),t)}},{}],31:[function(e,t,n){"use strict";function r(e,t){e.setAttribute("d",t.encode())}function i(e){return e.getAttribute("d")}function o(e){return new f(i(e)).toAbs()}function a(e,t){return m(t)?void _.set(t,{display:e?"inline":"none"}):function(t){a(e,t)}}function s(e,t){return m(t)?void _.set(t,{transformOrigin:e}):function(t){s(e,t)}}function u(e,t){var n=1,r=0;m(t.duration)&&(n=t.duration,delete t.duration),m(t.value)&&(r=t.value,delete t.value),e.forEach(function(e){var i={};m(e.prop)&&(e.props=e.prop),Array.isArray(e.props)||(e.props=[e.props]),e.props.forEach(function(e){i[e]=r}),_.to(e.obj,n,h(i,t))})}function c(e,t){m(t)||(t={}),this.options=h({},A,t),t=this.options,this.target=e,t.align=.5,t.width<=-1?t.width=e.clientWidth:e.style.width=t.width+"px",t.buttonSize<=-1?t.buttonSize=e.clientHeight:e.style.height=t.buttonSize+"px";var n=e.getAttribute("data-progressbar");null!=n&&(t.progressbar=n);var r=e.getAttribute("data-progressbar-label");null!=r&&(t.progressbarLabel=r),this.graphics={},this.state=d(this.state),this.init()}var l=(e("gsap/src/uncompressed/plugins/CSSPlugin"),e("gsap/src/uncompressed/easing/EasePack"),e("gsap/src/uncompressed/TweenLite")),f=e("svg-pathdata"),h=e("extend"),d=e("./clone"),p=e("./create-svg"),g=e("./gfx-of"),m=e("./is-set"),v=e("./cutoff"),y=e("./pointer-events"),b=e("./svg/bt.svg"),_=l;0==Object.keys(_).length&&(m(window.TweenLite)?_=window.TweenLite:m(window.TweenMax)?_=window.TweenMax:this.error("GSAP could not be found."));var w=a(!1),E=a(!0),S=s("50% 50%"),T=s("50% 100%"),A={colorFg:"#fff",colorBg:"#000",background:getComputedStyle(document.body).getPropertyValue("background-color"),highlightColor:"#08F",progressbar:null,progressbarLabel:"",buttonSize:-1,width:-1,align:"center",barStretch:20,barElasticOvershoot:1.8,barElasticPeriod:.15,barHeight:4,barInset:-.5,labelHeight:53,labelWobbliness:40,bleedTop:100,bleedBottom:50,bleedLeft:60,bleedRight:60,fontFamily:"",fontWeight:"bold",jumpHeight:50,arrowDirection:"down",arrowHangOnFail:!0,arrowHangOnCancel:!0,textComplete:"Done",textFail:"Failed",textCancel:"Canceled",onClick:function(e){},onOpen:function(e){},onComplete:function(e){},onClose:function(e){},onFail:function(e){},onCancel:function(e){},onChange:function(e){}},x={logPrefix:"ElasticProgress",eventPrefix:"elasticProgress.",options:null,target:null,progress:null,progressbar:null,progressbarLabel:"",canvas:null,lastValue:0,value:0,visibleValue:0,lastVisibleValue:0,state:{animating:!1,opening:!1,open:!1,closing:!1,completing:!1,complete:!1,pressed:!1,hover:!1,focused:!1,failing:!1,failed:!1,calceling:!1,canceled:!1},graphics:null,buttonRadius:null,buttonScale:null,containerX:null,barOverstretch:0,base:null,arrowRelativeScale:.8,arrowRatio:null,arrowScale:null,arrowPos:null,arrowUp:!1,arrowRotation:null,labelScale:null,labelRegularHeight:53,queue:null},C="'Helvetica Neue','Helvetica','Arial'";c.prototype=h({},x,{init:function(){var e=this.options,t=(this.target,this.state,this.graphics);return this.styleTarget(),this.createProgressElement(),this.createCanvas(),this.setupGraphicsShortcuts(),S([t.circle,t.overlay,t.hitArea,t.bgCircle,t.overlayCircle,t.label]),T(t.arrow),T([t.arrowHead,t.arrowShaft]),w([t.label,t.fillLine,t.overlay]),this.calculateValues(),this.updateColors(),this.updateBarHeight(),this.updateButtonSize(),this.updateAlign(),_.set(t.container,{transformOrigin:"50% 50%",y:e.bleedTop,x:e.bleedLeft}),S(t.circle),t.labelText.setAttribute("text-anchor","middle"),t.labelText.setAttribute("font-family",e.fontFamily+","+C),t.labelText.setAttribute("font-weight",e.fontWeight),t.hitArea.style.pointerEvents="fill",t.hitArea.style.cursor="pointer",t.hitAreaCircle.style.fill="transparent",this.setupEvents(),this},addToQueue:function(e){this.queue=e},processQueue:function(){if(null!=this.queue){var e=this.queue;this.queue=null,e.call(this)}},styleTarget:function(){var e=this.target,t=e.style;t.border="none",t.background="transparent",t.outline="none",t.pointerEvents="none",t.webkitTapHighlightColor="transparent",t.textAlign="left"},createProgressElement:function(){var e=this.options,t=this.target;e.progressbar?this.progress=e.progressbar:(this.progress=document.createElement("progress"),this.progress.style.position="absolute",this.progress.style.left="-99999px",this.progress.setAttribute("aria-label",e.progressbarLabel)),this.progress.setAttribute("value",0),this.progress.setAttribute("max",1),this.progress.setAttribute("aria-hidden",!0),t.parentNode.insertBefore(this.progress,t.nextSibling)},createCanvas:function(){var e=this.options,t=p(e.width+e.bleedLeft+e.bleedRight,e.buttonSize+e.bleedTop+e.bleedBottom);t.appendChild(b()),this.target.appendChild(t),t.style.position="relative",t.style.marginRight=-e.bleedRight+"px",t.style.marginLeft=-e.bleedLeft+"px",t.style.marginTop=-e.bleedTop+"px",t.style.marginBottom=-e.bleedBottom+"px",this.canvas=t},setupGraphicsShortcuts:function(){var e=this.graphics,t=this.canvas;e.container=t.querySelector("#container"),e.hitArea=t.querySelector("#hit-area"),e.hitAreaCircle=e.hitArea.querySelector("path"),e.circle=t.querySelector("#circle"),e.arrow=t.querySelector("#arrow"),e.arrowHead=e.arrow.querySelector("#head"),e.arrowShaft=e.arrow.querySelector("#line"),e.label=e.arrow.querySelector("#label"),e.labelText=e.label.querySelector("text"),e.overlay=t.querySelector("#overlay"),e.overlayCircle=e.overlay.querySelector("path"),e.bg=t.querySelector("#background"),e.bgCircle=e.bg.querySelector("path"),e.line=t.querySelector("#border path"),e.fillLineContainer=t.querySelector("#fill-line"),e.fillLine=e.fillLineContainer.querySelector("path")},calculateValues:function(){var e=this.graphics,t=this.options,n=e.bgCircle.getBBox().height,r=e.arrow.getBBox().height;this.buttonRadius=t.buttonSize/2,this.arrowRatio=(r/n+.05)*this.arrowRelativeScale,this.buttonScale=t.buttonSize/n,this.arrowScale=this.buttonScale*this.arrowRelativeScale,this.arrowUp="up"==t.arrowDirection,this.arrowPos=t.buttonSize*(1-(1-this.arrowRatio)/2);var i=t.buttonSize*this.arrowRatio;this.arrowUp&&(this.arrowPos-=i),this.arrowRotation=this.arrowUp?180:0,this.base=t.buttonSize/2,this.labelScale=t.labelHeight/this.labelRegularHeight},updateColors:function(){var e=this.graphics,t=this.options;_.set(g([e.arrowHead,e.arrowShaft]),{fill:t.colorFg}),_.set(g(e.fillLine),{stroke:t.colorFg}),_.set(g([e.bg,e.labelText]),{fill:t.colorBg}),_.set(g(e.line),{stroke:t.colorBg}),_.set(g(e.overlay),{fill:t.background})},updateBarHeight:function(){var e=this.graphics,t=this.options;e.line.setAttribute("stroke-width",t.barHeight),e.fillLine.setAttribute("stroke-width",t.barHeight-t.barInset)},updateButtonSize:function(){{var e=this.graphics,t=this.options,n=this.buttonRadius;t.buttonSize}_.set([e.bgCircle,e.overlayCircle],{x:0,y:n,scale:this.buttonScale}),_.set(e.arrow,{scale:this.arrowScale,rotation:this.arrowRotation,y:this.arrowPos});var i=this.getPathPointsCirclingCircle();r(e.line,i)},getPathPointsCirclingCircle:function(){var e=this.options,t=this.graphics,n=this.buttonRadius,r=2*n,i=o(t.line),a=i.commands,s=e.barHeight/2+1,u=1.318,c=(n-s)*u;return a[0].x=0,a[0].y=s,a[1].x=0,a[1].y=r-s,a[1].x1=-c,a[1].y1=r-s,a[1].x2=-c,a[1].y2=s,a[2].x=a[0].x,a[2].y=a[0].y,a[2].x1=c,a[2].y1=s,a[2].x2=c,a[2].y2=r-s,i},updateAlign:function(){var e=this.graphics,t=this.options;this.containerX=t.width*t.align+t.buttonSize*(1-t.align-.5),_.set([e.circle,e.arrow],{x:this.containerX}),_.set(e.hitArea,{x:t.bleedLeft+this.containerX,y:t.bleedTop+t.buttonSize/2,scale:this.buttonScale})},setupEvents:function(){var e=this,t=this.graphics;y.on("down",t.hitArea,function(t){e.setState("pressed",!0),e.setState("hover",!1)}),y.on("up",document,function(){e.setState("pressed",!1)}),y.on("mouseover",t.hitArea,function(){e.setState("hover",!0)}),y.on("mouseout",t.hitArea,function(){e.setState("hover",!1)}),y.on("click",t.hitArea,function(t){e.triggerClick(t)}),this.addEventListener("keydown",function(e){("13"==e.keyCode||"32"==e.keyCode)&&(e.preventDefault(),this.triggerClick(e))}),this.addEventListener("focus",function(e){this.setState("focused",!0)}),this.addEventListener("blur",function(e){this.setState("focused",!1)}),this.addEventListener(this.eventPrefix+"animatingFinish",this.processQueue),this.setupEventHandlers()},triggerClick:function(e){var t=this.state;t.open||(this.dispatchEvent("click"),this.options.onClick.call(this.target,e))},setupEventHandlers:function(){this.options;this.setupEventHandler("openingFinish","onOpen"),this.setupEventHandler("closingFinish","onClose"),this.setupEventHandler("complete","onComplete"),this.setupEventHandler("fail","onFail"),this.setupEventHandler("cancel","onCancel"),this.setupEventHandler("change","onChange")},setupEventHandler:function(e,t){var n=this.target,r=this.options;n.addEventListener(this.eventPrefix+e,function(e){r[t].call(n,e)})},addEventListener:function(e,t){this.target.addEventListener(e,t.bind(this))},dispatchEvent:function(e){this.target.dispatchEvent(new Event(this.eventPrefix+e))},setState:function(e,t){Array.isArray(e)||(e=[e]);var n=!1;e.forEach(function(e){var r=this.state[e];this.state[e]=t,t!=r&&(this.checkStateEvents(e),n=!0)},this),n&&this.dispatchEvent("stateChange"),this.updateStates()},updateStates:function(){var e=(this.target,this.state),t=this.options,n=this.graphics;!e.focused||e.pressed||e.open||e.hover?_.to(n.hitAreaCircle,.05,{attr:{"stroke-width":0}}):(n.hitAreaCircle.setAttribute("stroke",t.highlightColor),_.to(n.hitAreaCircle,.05,{attr:{"stroke-width":2/Math.max(.01,this.buttonScale)}})),e.pressed&&!e.open?(_.to(n.container,.1,{scale:.82,ease:Quint.easeOut}),_.to(n.circle,.1,{scale:1.06,ease:Quint.easeOut})):_.to([n.container,n.circle],.1,{scale:1,ease:Quint.easeOut}),!e.hover||e.pressed||e.open?e.pressed||_.to([n.circle,n.container],.2,{scale:1,ease:Quint.easeOut}):(_.to(n.container,.2,{scale:1.15,ease:Quint.easeOut}),_.to(n.circle,.2,{scale:.92,ease:Quint.easeOut})),e.open?w(n.hitArea):E(n.hitArea)},checkStateEvents:function(e){function t(t,r,o){e==t&&n.dispatchEvent(i?r:o)}var n=this,r=this.state,i=r[e];t("open","open","close"),t("press","press","release"),t("animating","animatingStart","animatingFinish"),t("opening","openingStart","openingFinish"),t("closing","closingStart","closingFinish"),t("failing","failingStart","failingFinish"),t("canceling","cancelingStart","cancelingFinish")},setText:function(e,t){var n=this.graphics;if(m(t)||(t=!1),n.labelText.textContent=e,t){{n.label.getBBox(),n.arrowShaft.getBBox()}_.set(n.label,{x:-parseFloat(n.labelText.getAttribute("font-size"))/2,rotation:180})}else _.set(n.label,{x:0,rotation:0})},setPercentage:function(e){this.setText(Math.floor(100*e)+"%")},changeText:function(e,t){var n=this,r=this.graphics,i=.15;_.to(r.label,i,{opacity:0,onComplete:function(){n.setText(e,t);var o=r.label.getBBox(),a=r.arrowShaft.getBBox(),s=o.width+40,u=s/a.width;_.to(r.arrowShaft,i,{scaleX:u,ease:Quad.easeInOut,onComplete:function(){_.to(r.label,i,{opacity:1})}})}})},open:function(){var e=this,t=(this.options,this.graphics),n=this.state;return!n.open||n.closing||n.failed||n.canceled?n.animating?(this.addToQueue(this.open),!1):(this.progress.setAttribute("aria-hidden",!1),_.killTweensOf(this),this.setState(["animating","opening","open"],!0),this.value=this.visibleValue=this.lastValue=this.lastVisibleValue=0,n.open&&(n.failed||n.canceled)?(this.setState(["failed","canceled"],!1),w(t.fillLine),this.animOpenArrowJump(!1),this.changeText("0%"),this.animOpenBar()):(this.animOpenOverlay(),this.animOpenArrowJump(),this.animLabelExpand(),_.delayedCall(.2,function(){e.animOpenBar()})),_.delayedCall(1.3,function(){this.resetFillLine(),this.setState(["animating","opening"],!1),e.setValue(e.value)},null,this),!0):!1},animOpenBar:function(){var e=this.graphics,t=this.options,n=this.containerX,i=this.base,a=t.width,s=a/2,c=a/6,l=o(e.line),f=l.commands,h=f[0],d=f[1],p=f[2],g=t.buttonSize/4*3,m=.25;_.to(h,m,{x:-n,ease:Quad.easeOut}),_.to(d,m,{x:-n+s,x2:-n+c,x1:-n+c+c,ease:Quad.easeOut}),_.to(p,m,{x:-n+a,x2:-n+s+c,x1:-n+s+c+c,ease:Quad.easeOut}),u([{obj:h,prop:"y"},{obj:d,prop:"y2"},{obj:p,props:["y","y1"]}],{duration:m,value:i,ease:Quad.easeInOut}),u([{obj:d,prop:"y1"},{obj:p,prop:"y2"}],{duration:m,value:i+g,ease:Quad.easeInOut}),u([{obj:d,props:["y","y1"]},{obj:p,prop:"y2"}],{duration:1.05,value:i,delay:.05,ease:Elastic.easeOut,easeParams:[t.barElasticOvershoot,t.barElasticPeriod]});var v=function(){r(e.line,l)};_.to({},1.1,{onUpdate:v,onComplete:v})},animOpenOverlay:function(){var e=this.graphics;E(e.overlay),_.fromTo(e.overlay,.2,{transformOrigin:"50% 50%",scale:.2},{scale:1,ease:Sine.easeIn,onComplete:function(){w([e.overlay,e.bg])}})},animOpenArrowJump:function(e){var t=this,n=this.graphics,r=this.options;m(e)||(e=!0);var i=e?.25:0;e&&_.to(n.arrow,.4,{y:"+="+.2*r.buttonSize,ease:Quad.easeInOut}),_.to(n.arrow,.75,{x:0,ease:Quad.easeOut,delay:i}),_.to(n.arrow,.5,{rotation:0,delay:i}),_.to(n.arrow,.25,{y:-r.jumpHeight,ease:Quad.easeOut,delay:i,onComplete:function(){_.to(n.arrow,.5,{y:t.base-r.barHeight/2,ease:Bounce.easeOut})}})},animLabelExpand:function(){{var e=this,t=this.graphics;this.options}_.to(t.arrow,.5,{scaleX:e.labelScale,scaleY:e.labelScale}),_.to(t.arrowHead,.5,{scale:.5,ease:Quad.easeInOut}),_.to(t.arrowShaft,.5,{scaleX:3,y:15,ease:Quad.easeInOut}),E(t.label),this.setText("0%"),_.fromTo(t.label,.5,{scale:.01,x:0,y:0},{scale:1,x:0,y:15})},resetFillLine:function(){var e=this.graphics,t=o(e.fillLine),n=t.commands;n[0].x=n[1].x=-this.containerX,n[0].y=n[1].y=this.base,r(e.fillLine,t),E(e.fillLine)},close:function(){{var e=(this.options,this.state);this.graphics}return e.closing||!e.open?!1:e.animating?(this.addToQueue(this.close),!1):(this.progress.setAttribute("aria-hidden",!0),_.killTweensOf(this),this.setState(["animating","closing"],!0),this.animCloseArrow(),this.animLabelCollapse(),this.animCloseBar(),_.delayedCall(.31,function(){this.animCloseCircle()},null,this),_.delayedCall(.8,function(){this.setState(["animating","open","closing","failed","canceled","complete"],!1)},null,this),!0)},animCloseBar:function(){var e=this,t=this.graphics,n=this.options,i=o(t.fillLine),a=i.commands;_.to(a[0],.17,{x:a[1].x,y:a[1].y,ease:Quad.easeIn,onUpdate:function(){r(t.fillLine,i)},onComplete:function(){w(t.fillLine),s()}});var s=function(){var i=o(t.line),a=i.commands,s=.17;u([{obj:a[1],props:["y","y1"]},{obj:a[2],props:["y","y2"]}],{duration:s/2,value:e.base,ease:Quad.easeOut}),u([{obj:a[0],props:["x"]},{obj:a[1],props:["x","x1","x2"]},{obj:a[2],props:["x","x1","x2"]}],{duration:s,value:n.width/2-e.containerX,ease:Quad.easeIn}),_.to({},s,{onUpdate:function(){r(t.line,i)},onComplete:c})},c=function(){_.delayedCall(.3,function(){var n=e.getPathPointsCirclingCircle();r(t.line,n)})}},animLabelCollapse:function(){{var e=this,t=this.graphics;this.options}_.to(t.arrow,.5,{scale:e.arrowScale}),_.to(t.arrowHead,.5,{scale:1,ease:Quad.easeInOut}),_.to(t.arrowShaft,.5,{scaleX:1,y:0,ease:Quad.easeInOut}),_.to(t.label,.5,{scale:.01,onComplete:function(){w(t.label)}})},animCloseArrow:function(){var e=this,t=this.graphics,n=this.options;_.to(t.arrow,.5,{x:n.width/2,ease:Quad.easeOut,delay:0,rotation:0}),_.to(t.arrow,.25,{y:-n.jumpHeight,ease:Quad.easeOut,onComplete:function(){_.to(t.arrow,.8,{y:e.arrowPos,scaleY:e.arrowScale*(e.arrowUp?-1:1),ease:Elastic.easeOut,easeParams:[1.1,.6],onComplete:function(){_.set(t.arrow,{scaleY:e.arrowScale,rotation:e.arrowRotation})}})}})},animCloseCircle:function(){var e=this,t=this.graphics;E(t.bg),_.fromTo(t.bgCircle,.8,{scale:.1},{scale:e.buttonScale,ease:Elastic.easeOut,easeParams:[1.2,.7]})},setValue:function(e){var t=this,n=this.options,r=this.graphics,i=this.state;if(!i.open)return!1;if(i.failed||i.canceled||i.complete||i.animating)return!1;var o=this.value,a=v(e,0,1);if(o==a)return!1;if(this.lastValue=o,this.value=a,this.progress.setAttribute("value",this.value),i.opening||i.closing)return this.dispatchEvent("change"),!0;var s=this.value-this.lastVisibleValue;if(.01>s&&this.value<1)return!0;var u=.2+1*Math.abs(s);return _.to(r.arrow,.5*u,{rotation:-s*n.labelWobbliness,ease:Quad.easeOut,onComplete:function(){_.to(r.arrow,1.5,{rotation:0,ease:Elastic.easeOut,easeParams:[2,.4]})}}),_.to(this,1*u,{barOverstretch:2*s,ease:Quad.easeInOut,onComplete:function(){_.to(t,1.5,{barOverstretch:0,ease:Elastic.easeOut,easeParams:[2,.2]})}}),_.to(this,u,{visibleValue:this.value,ease:Quad.easeOut,onUpdate:this.updateValue.bind(this),onComplete:this.updateValue.bind(this)}),this.dispatchEvent("change"),!0},getValue:function(){return this.value},updateValue:function(){this.lastVisibleValue=this.visibleValue,this.renderValue(this.visibleValue)},renderValue:function(){var e=this.state,t=(this.options,this.graphics,this.visibleValue);if(t>=1&&!e.complete)_.killTweensOf(this,{visibleValue:!0}),this.complete();else if(t>=1&&e.complete)return!1;_.to(this,1.5,{onUpdate:this.renderBarStretch.bind(this)}),this.dispatchEvent("valueRender"),this.setPercentage(t)},renderBarStretch:function(e){var t=this,n=(this.state,this.options),i=this.graphics,a=this.visibleValue,s=n.barStretch*Math.sin(3.14*a)*(1+this.barOverstretch),u={x:a*n.width,y:t.base+s},c=o(i.line),l=c.commands,f=o(i.fillLine),h=f.commands;l[1].x=l[1].x1=l[2].x2=h[1].x=u.x-this.containerX,l[1].y=l[1].y1=l[2].y2=h[1].y=u.y,l[1].x2=l[0].x,l[1].y2=l[0].y,l[2].x1=l[2].x,l[2].y1=l[2].y,l[1].x+n.barHeight/2>=l[2].x&&(l[1].x=l[2].x-n.barHeight/2),r(i.fillLine,f),r(i.line,c),_.set(i.arrow,{x:u.x,y:u.y-n.barHeight/2})},complete:function(){var e=this,t=this.state,n=this.options;return!t.open||t.failed||t.complete||t.canceled?!1:t.animating?(this.addToQueue(this.complete),!1):(_.killTweensOf(this),this.setState(["animating","completing","complete"],!0),this.dispatchEvent("complete"),this.changeText(n.textComplete),_.delayedCall(2.5,function(){e.setState(["animating","completing"],!1)}),!0)},fail:function(){var e=this,t=this.state,n=this.options;return t.failed||t.canceled||t.complete||!t.open||t.closing?!1:t.animating?(this.addToQueue(this.fail),!1):(_.killTweensOf(this),this.setState(["animating","failed","failing"],!0),this.dispatchEvent("fail"),n.arrowHangOnFail&&this.animArrowHang(),this.changeText(n.textFail,n.arrowHangOnFail),_.delayedCall(2.5,function(){e.setState(["animating","failing"],!1)}),!0)},cancel:function(){var e=this,t=this.state,n=this.options;return t.failed||t.complete||t.canceled||!t.open||t.closing?!1:t.animating?(this.addToQueue(this.cancel),!1):(_.killTweensOf(this),this.setState(["animating","canceled","canceling"],!0),this.dispatchEvent("cancel"),n.arrowHangOnCancel&&this.animArrowHang(),this.changeText(n.textCancel,n.arrowHangOnCancel),_.delayedCall(2.5,function(){e.setState(["canceling","animating"],!1)}),!0)},animArrowHang:function(){var e=this,t=this.graphics;_.killTweensOf(this),_.killTweensOf(t.arrow),_.to(t.arrow,.25,{rotation:90,ease:Quad.easeIn,onComplete:function(){_.to(t.arrow,2,{rotation:180,ease:Elastic.easeOut,easeParams:[1.6,.4]})}}),_.to(this,.25,{barOverstretch:1.2,onUpdate:this.renderBarStretch.bind(this),onComplete:function(){_.to(e,1.5,{barOverstretch:0,ease:Elastic.easeOut,easeParams:[1.1,.4],onUpdate:e.renderBarStretch.bind(e)})}})},error:function(e){console.error(this.logPrefix+": "+e)},warn:function(e){console.warn(this.logPrefix+": "+e)},log:function(e){console.log(this.logPrefix+": "+e)}}),t.exports=c},{"./clone":28,"./create-svg":29,"./cutoff":30,"./gfx-of":32,"./is-set":33,"./pointer-events":35,"./svg/bt.svg":36,extend:7,"gsap/src/uncompressed/TweenLite":3,"gsap/src/uncompressed/easing/EasePack":3,"gsap/src/uncompressed/plugins/CSSPlugin":3,
"svg-pathdata":21}],32:[function(e,t,n){var r=["polygon","polyline","path","circle","rect","text","line","ellipse"];t.exports=function(e){return Array.isArray(e)||(e=[e]),e.map(function(e){return r.indexOf(e.nodeName)>-1?e:e.querySelectorAll(r.join(","))})}},{}],33:[function(e,t,n){t.exports=function(e){return"undefined"!=typeof e}},{}],34:[function(e,t,n){"use strict";var r=e("extend"),i=e("./to-array"),o=e("./is-set"),a=e("./elastic-progress"),s={open:function(){return this.instance.open()},close:function(){return this.instance.close()},setValue:function(e){return this.instance.setValue(e)},getValue:function(){return this.instance.getValue()},fail:function(){return this.instance.fail()},complete:function(){return this.instance.complete()},cancel:function(){return this.instance.cancel()},onClick:function(e){this.instance.options.onClick=e},onOpen:function(e){this.instance.options.onOpen=e},onClose:function(e){this.instance.options.onClose=e},onComplete:function(e){this.instance.options.onComplete=e},onCancel:function(e){this.instance.options.onCancel=e},onFail:function(e){this.instance.options.onFail=e},onChange:function(e){this.instance.options.onChange=e},addEventListener:function(e,t){this.instance.addEventListener(e,t)},removeEventListener:function(e,t){this.instance.removeEventListener(e,t)}},u=function(e,t){o(e)&&(e.jquery&&(e=e.get(0)),this.instance=new a(e,t))};u.prototype=r({instance:null},s),o(jQuery)&&!function(e){e.fn.ElasticProgress=function(t){i(e(this));if("string"!=typeof t){var n=t;return e(this).each(function(){var t=new u(e(this),n);e(this).data("elastic-progress",t)}),e(this)}var r=t,o=s[r],c=arguments;if("function"==typeof o){var l=null;return e(this).each(function(){var t=e(this).data("elastic-progress");null!=t&&(l=t[r].apply(t,i(c).slice(1)))}),l}a.prototype.error("Unknown function '"+r+"'")}}(jQuery),t.exports=u},{"./elastic-progress":31,"./is-set":33,"./to-array":37,extend:7}],35:[function(e,t,n){function r(e,t,n){"number"!=typeof n&&(n=1e3),s.push({el:e,type:t}),setTimeout(function(){s.shift()},n)}function i(e,t){return s.some(function(n){return n.type==t&&n.el==e})}function o(e,t,n,r){t.addEventListener(e,r),u.push({type:e,el:t,callback:n,listener:r})}function a(e,t,n){u.filter(function(r){return r.type==e&&r.el==t&&r.callback==n}).forEach(function(e){console.log(e),e.el.removeEventListener(e.type,e.listener)}),u=u.filter(function(r){return!(r.type==e&&r.el==t&&r.callback==n)})}var s=[],u=[],c={down:function(e,t,n){if(e){var s=function(e){if("undefined"!=typeof e.touches){var i=e.touches;i.length>0&&(e.clientX=i[0].clientX,e.clientY=i[0].clientY,n.call(t,e),r(t,"mousedown"))}};o("touchstart",t,n,s);var u=function(e){i(t,"mousedown")||n.call(t,e)};o("mousedown",t,n,u)}else a("touchstart",t,n),a("mousedown",t,n)},up:function(e,t,n){if(e){var s=function(e){if("undefined"!=typeof e.touches){var i=e.touches;i.length>0&&(e.clientX=i[0].clientX,e.clientY=i[0].clientY),n.call(t,e),r(t,"mouseup")}};o("touchend",t,n,s);var u=function(e){i(t,"mouseup")||n.call(t,e)};o("mouseup",t,n,u)}else a("touchend",t,n),a("mouseup",t,n)},click:function(e,t,n){function r(e){i(t,"click")||n.call(t,e)}e?o("click",t,n,r):a("click",t,n)},mouseover:function(e,t,n){function r(e){n.call(t,e)}e?o("mouseover",t,n,r):a("mouseover",t,n)},mouseout:function(e,t,n){function r(e){n.call(t,e)}e?o("mouseout",t,n,r):a("mouseout",t,n)}},l={on:function(e,t,n){c[e].call(this,!0,t,n)},off:function(e,t,n){c[e].call(this,!1,t,n)}};t.exports=l},{}],36:[function(e,t,n){function r(e){return function(t,n){t=0|+t,n=0|+n;var r=document.createElement("div");return r.innerHTML="<svg><g><g>"+e+"</g></g></svg>",r=r.childNodes[0].childNodes[0],r.childNodes[0].setAttribute("transform","translate("+t+","+n+")"),r}}t.exports=r('\n<g id="container">\n	<g id="circle">\n		<g id="background">\n			<path id="bg" fill="#231F20" d="M0-50c27.614,0,50,22.386,50,50S27.614,50,0,50c-27.615,0-50-22.386-50-50S-27.615-50,0-50z"/>\n		</g>\n		<g id="overlay">\n			<path fill="#47FF03" d="M50,0c0,27.584-22.461,50-50,50c-27.636,0-50-22.416-50-50c0-27.594,22.364-50,50-50\n				C27.539-50,50-27.594,50,0z"/>\n		</g>\n		<g id="border">\n			<path fill="none" stroke="#231F20" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="M-23.833,21.445\n				c-80.313,1.374,7.956,104.833,89.191,104.833c81.7,0,191.842-105.833,110.142-105.833"/>\n		</g>\n		<g id="fill-line">\n			<path fill="none" stroke="#FF00FF" stroke-linecap="round" stroke-miterlimit="10" d="M-138.487,110.945l105,2"/>\n		</g>\n	</g>\n	<g id="arrow">\n		<g id="head">\n			<polygon fill="#FF00FF" points="-30.035,-31.56 0,0 30.035,-31.56 			"/>\n		</g>\n		<g id="line">\n			<rect x="-12.374" y="-68.78" fill="#FF00FF" width="24.749" height="41.552"/>\n		</g>\n		<g id="label">\n			<text transform="matrix(1 0 0 1 -0.7007 -41.584)" fill="#231F20" font-family="\'Arial-BoldMT\'" font-size="18">1</text>\n		</g>\n	</g>\n</g>\n<g id="hit-area">\n	<path fill="#00FFDA" d="M50,0c0,27.584-22.461,50-50,50c-27.636,0-50-22.416-50-50c0-27.594,22.364-50,50-50\n		C27.539-50,50-27.594,50,0z"/>\n</g>\n')},{}],37:[function(e,t,n){function r(e){return[].slice.call(e)}t.exports=r},{}]},{},[34])(34)}),function(e,t,n){function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function i(e,t){var n=this;this.gridEl=e,this.options=r({},this.options),r(this.options,t);var i=n.options.upload.effectEl.ElasticProgress({buttonSize:60,fontFamily:"Montserrat",colorBg:"#adeca8",colorFg:"#7cc576",arrowDirection:"up",onClick:function(e){console.log("onClick"),n._displayFileUpload(i)}});this._init()}[].slice.call(document.querySelectorAll('a[href="#"]')).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})});var o=function(e,t,r){"undefined"==typeof t&&(t=2),"undefined"==typeof r&&(r=-1);var i=0,o=function(){return r>-1&&i>=r?void("undefined"!=typeof e.jquery?e.ElasticProgress("fail"):e.fail()):(i+=.1*Math.pow(Math.random(),2)*t,"undefined"!=typeof e.jquery?e.ElasticProgress("setValue",i):e.setValue(i),void(1>i&&n.delayedCall(.05+.14*Math.random(),o)))};o()};i.prototype.options={photos:{},faces:{}},i.prototype._initFileUploadFallback=function(){this.options.upload.inputFileUpload.fileupload({dataType:"json",start:function(){console.log("started uploading")},done:function(e,t){console.log("done uploading")},error:function(e,t){console.log("error in uploading")}})},i.prototype._displayFileUpload=function(e){this.options.upload.inputFileUpload.fileupload({dataType:"json",start:function(){e.ElasticProgress("open")},done:function(t,n){e.ElasticProgress("close")},error:function(t,n){e.ElasticProgress("fail"),setTimeout(function(){e.ElasticProgress("close")},2e3)},progress:function(t,n){parseInt(n.loaded/n.total*100,10);o(e)}}).trigger("click")},i.prototype._init=function(){this._bindPhotoEvents(),this._bindFacesEvents(),this._bindResetEvents();var e=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);console.log("Can svg",e),e||(this._initFileUploadFallback(),t(".box.box--centered .upload").hide(),t(".file-upload").show())},i.prototype._bindPhotoEvents=function(){this.options.photos.grid.on("click","figure > img",function(e){e.preventDefault();var n=t(this);n.parent("figure").toggleClass("faces")})},i.prototype._bindFacesEvents=function(){var e=this;t(e.options.photos.grid).on("click",".face",function(n){n.preventDefault();var r=t(this),i=e.options.faces.grid.find('a[href="'+r.attr("href")+'"]');i.parent(".face").find(".attributes").slideToggle(),console.log(r.attr("href"))}),e.options.faces.grid.on("click",".face",function(e){e.preventDefault(),console.log("show face"),t(this).find(".attributes").slideToggle("normal")});var n=!1;t("#btn-show-faces").on("click",function(t){t.preventDefault(),console.log("show faces"),e.options.faces.grid.find(".face .attributes")[n?"slideUp":"slideDown"]("normal"),n=!n})},i.prototype._bindResetEvents=function(){var e=this;e.options.reset&&e.options.reset.on("click",function(t){t.preventDefault(),console.log("reset"),e.options.hub.server.reset();var n=e.options.photos.grid.find(".empty-msg").clone().show(),r=e.options.faces.grid.find(".empty-msg").clone().show();e.options.photos.grid.empty(),e.options.faces.grid.empty(),e.options.photos.grid.append(n),e.options.faces.grid.append(r)})},i.prototype.addPhoto=function(e){var t=this,n=t.options.photos.grid,r=t.options.photos.tpl,i=t.options.assetsUrl;n.find(".empty-msg").hide();var o=r.clone();o.attr("id","photo-"+e.Id),o.find("img").attr("src",i+"photos/"+e.Filename+".jpeg"),o.removeClass("hidden"),n.prepend(o)},i.prototype.addFaces=function(e){var t=this,n=t.options.photos.grid,r=t.options.faces.grid,i=t.options.assetsUrl;r.find(".empty-msg").hide();for(var o=0,a=e.length;a>o;o++){var s=e[o];if(!s)return;console.log("faces",s);var u=n.find("#photo-"+s.PhotoId),c=u.find(".icon-links"),l=t.options.faces.tpl.clone().removeClass("hidden"),f=[i,"faces/",s.Id,".jpeg"].join("");l.find("a").attr("href",s.Id),l.find("img").attr("src",f);var h=['<a href="',s.Id,'" class="face"><img src=',f," /></a>"].join("");if(s.Age&&l.find(".attributes span:eq(0)").text(s.Age),l.find(".attributes span:eq(1)").text(0===s.Gender?"Male":"Female"),null!==s.Smile){var d=Math.round(1e4*s.Smile)/100;l.find(".attributes span.smile").text(d+"%"),l.find(".attributes span.progress-inner").css("width",d/2+"px")}c.append(h),r.append(l),u.find("figure").toggleClass("faces",!0)}},e.gwab=i}(window,jQuery,TweenMax);